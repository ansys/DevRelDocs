<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Veronica: ADR 3D Viewer Web Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="veronica_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Veronica
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.xhtml');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.xhtml"><span>Introduction</span></a></li>
      <li class="current"><a href="modules.xhtml"><span>Modules</span></a></li>
      <li><a href="annotated.xhtml"><span>Classes</span></a></li>
      <li><a href="files.xhtml"><span>Files</span></a></li>
      <li><a href="examples.xhtml"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">ADR 3D Viewer Web Component</div></div>
</div><!--header-->
<div class="contents">
<p><b>Note: This component is a work in progress and this documentation is incomplete/preliminary.</b></p>
<p>The Ansys Nexus Viewer is a "web component" capable of rendering 3D geometry in a web page using different rendering configurations. The component can render in the browser using WebGL or remote over VNC (e.g. accessing EnSight or EnVision remote instances). This component is automatically made available using the websocketserver_cli (the component is served under /ansys###/nexus in that configuration).</p>
<h2>Instantiation</h2>
<p>To use the component in a web page:</p>
<div class="fragment"><div class="line">&lt;head&gt; </div>
<div class="line">  &lt;script src=&quot;/ansys###/nexus/viewer-loader.js&quot;&gt;&lt;/script&gt; </div>
<div class="line">&lt;/head&gt; </div>
<div class="line">&lt;body&gt; </div>
<div class="line">  &lt;div&gt; </div>
<div class="line">    &lt;ansys-nexus-viewer </div>
<div class="line">      id=&quot;Viewer&quot; </div>
<div class="line">      src=&quot;/ansys###/nexus/test/viewer_test.avz&quot; </div>
<div class="line">      proxy_img=&quot;/ansys###/nexus/images/ANSYS_icon.png&quot; </div>
<div class="line">      active=true&gt;</div>
<div class="line">    &lt;/ansys-nexus-viewer&gt;</div>
<div class="line">  &lt;/div&gt; </div>
<div class="line">&lt;/body&gt; </div>
</div><!-- fragment --><h2>Properties</h2>
<p>The web component element supports several properties:</p>
<ul>
<li><b>active</b>: If this is true, the 3D view will be active. If false, the proxy image is displayed (if no proxy image is specified, a "blank" launch image will be presented).</li>
<li><b>aspect-ratio</b>: the viewer does not support explicit width/height specification and will be sized to fill the parent element with one exception. If 'aspect-ratio' is set, the height will be the (dynamic) width divided by the aspect-ratio value. If 'aspect-ratio' is set to the string 'proxy', the aspect ratio of the proxy image will be used.</li>
<li><b>guid</b>: a string property that is a unique identifier for the component instance. This defaults to a pseudo-guid that is unique only vs other ansys-nexus-viewer components in the same web page. This property may be set when the element is instantiated but cannot be changed afterward.</li>
<li><b>src</b>: URL to the source 3D geometry. Validity varies by renderer type. The 'webgl' renderer supports '.avz' and '.scdoc' files. The 'envnc' renderer supports '.evsn'. A read/write property.</li>
<li><b>proxy-img</b>: URL to a PNG image that should be used as the proxy image when the 3D component is not active.</li>
<li><b>renderer</b>: the back-end renderer to use. 'webgl' is the default. 'envnc' is also be supported in conjunction with the websocketserver_cli local session configurations. This property may only be specified when the element is created.</li>
<li><b>renderer-options</b>: a read-only property specified as a json string containing renderer specific options. Where possible, properties are supported by all back-end renderers. There are some options that are specific to a given renderer. These options are passed via the options property.</li>
<li><b>parts</b>: a read-only property that returns a list of the part names present in the instance. This property will change when the <b>src</b> changes and, depending on the nature of the geometry source may change organically.</li>
</ul>
<h2>Methods</h2>
<p>There are several methods calls that can be made on the element via JavaScript. In practice, code similar to the following may be used to access these methods (assuming instantiation as per the example in that section):</p>
<div class="fragment"><div class="line">&lt;script&gt; </div>
<div class="line">  var viewer = document.getElementById(&quot;Viewer&quot;); </div>
<div class="line">  let image = viewer.renderImage();</div>
<div class="line">  if (image) document.getElementById(&quot;img_target&quot;).src = image;</div>
<div class="line">&lt;/script&gt; </div>
</div><!-- fragment --><h2>Methods include:</h2>
<ul>
<li><b>renderImage()</b>: return a dataURL of the RGB contents of the currently rendered image. Note: if the component is not active, this call will activate it.</li>
</ul>
<h2>Events</h2>
<p>The component is designed to communicate with external HTML GUI component via events. These events are scoped to the ansys-nexus-viewer element thus handlers must be attached to the viewer element itself. An example of connecting to the partlist changed event:</p>
<div class="fragment"><div class="line">&lt;script&gt; </div>
<div class="line">  function partlistChangedFunc(e) { </div>
<div class="line">     var obj = document.getElementById(&quot;Viewer&quot;); </div>
<div class="line">     const new_list = obj.parts; </div>
<div class="line"> ... </div>
<div class="line">  } </div>
<div class="line"> </div>
<div class="line">  var viewer = document.getElementById(&quot;Viewer&quot;); </div>
<div class="line">  viewer.addEventListener(&quot;parts-changed&quot;, partlistChangedFunc); </div>
<div class="line">&lt;/script&gt; </div>
</div><!-- fragment --><p>Events include:</p>
<ul>
<li><b>active-changed</b>: emitted when the 'active' property changes.</li>
<li><b>src-changed</b>: emitted when the 'src' property changes.</li>
<li><b>parts-changed</b>: emitted when the 'parts' property changes.</li>
<li><b>aspect-ratio-changed</b>: emitted when the 'aspect-ratio' property changes (note: not the aspect ratio, just the property).</li>
<li><b>proxy-img-changed</b>: emitted when the 'proxy-img-ratio' property changes. </li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/>
<small>&#160;&#160;&copy; <script type="text/javascript">document.write(new Date().getFullYear());</script> ANSYS Inc. All rights reserved.</small>
 <span style="float:right"><small>Generated by <a href="http://www.doxygen.org/index.html">doxygen</a>&nbsp;&nbsp;</small></span>
