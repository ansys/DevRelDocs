<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Veronica: D:/Product-src/ensight/client/rpc_interface/shared_memory_image_client.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="veronica_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Veronica
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.xhtml');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.xhtml"><span>Introduction</span></a></li>
      <li><a href="modules.xhtml"><span>Modules</span></a></li>
      <li><a href="annotated.xhtml"><span>Classes</span></a></li>
      <li class="current"><a href="files.xhtml"><span>Files</span></a></li>
      <li><a href="examples.xhtml"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.xhtml"><span>File&#160;List</span></a></li>
      <li><a href="globals.xhtml"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_efb5d67553d49169c49ef58de7241528.xhtml">ensight</a></li><li class="navelem"><a class="el" href="dir_fdd9705442facc8925ef373a77ec3b73.xhtml">client</a></li><li class="navelem"><a class="el" href="dir_015c1e161be69977b413cdd9480f9dc4.xhtml">rpc_interface</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">shared_memory_image_client.h File Reference<div class="ingroups"><a class="el" href="group__shmem.xhtml">Shared Memory Image Transport</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="shared__memory__image__client_8h_source.xhtml">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___shared_memory_frame.xhtml">_SharedMemoryFrame</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a64df229b0ac6942d9bdee4b94b2c096a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#a64df229b0ac6942d9bdee4b94b2c096a">IMAGESTREAM_API_VERSION</a>&#160;&#160;&#160;&quot;1.0&quot;</td></tr>
<tr class="separator:a64df229b0ac6942d9bdee4b94b2c096a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cc13f7eda736fddce876cf5cae2c502"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#a2cc13f7eda736fddce876cf5cae2c502">IMAGESTREAM_UNCONNECTED</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a2cc13f7eda736fddce876cf5cae2c502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa17e85c9001e414b9ac1db640884b944"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#aa17e85c9001e414b9ac1db640884b944">IMAGESTREAM_RECONNECTING</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:aa17e85c9001e414b9ac1db640884b944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a7491d1019b67d55ac6488c0e3cb637"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#a7a7491d1019b67d55ac6488c0e3cb637">IMAGESTREAM_NO_FRAMEAVAILABLE</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a7a7491d1019b67d55ac6488c0e3cb637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78414d594aa9bb3f9bcea84c768d2826"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#a78414d594aa9bb3f9bcea84c768d2826">IMAGESTREAM_NO_BUFFERAVAILABLE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a78414d594aa9bb3f9bcea84c768d2826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af995dd87ffd7dd178eef1d343f7b72bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#af995dd87ffd7dd178eef1d343f7b72bf">IMAGESTREAM_NOERROR</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:af995dd87ffd7dd178eef1d343f7b72bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2b3e8a36182f38dab1c5fd7a700a0c6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#ac2b3e8a36182f38dab1c5fd7a700a0c6">IMAGESTREAM_BAD_ARGS</a>&#160;&#160;&#160;-1</td></tr>
<tr class="separator:ac2b3e8a36182f38dab1c5fd7a700a0c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7873d9185a495020022f80c238142bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#ab7873d9185a495020022f80c238142bc">IMAGESTREAM_NOT_LOCKED</a>&#160;&#160;&#160;-2</td></tr>
<tr class="separator:ab7873d9185a495020022f80c238142bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54a45d2f039e6275c28249eedfa2515d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#a54a45d2f039e6275c28249eedfa2515d">IMAGESTREAM_BAD_FILE_SIZE</a>&#160;&#160;&#160;-3</td></tr>
<tr class="separator:a54a45d2f039e6275c28249eedfa2515d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b68da171a139f688d317320d0a4eb3e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#a5b68da171a139f688d317320d0a4eb3e">IMAGESTREAM_UNABLE_TO_OPEN_FILE</a>&#160;&#160;&#160;-4</td></tr>
<tr class="separator:a5b68da171a139f688d317320d0a4eb3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7eb344cf60975382720f71182dab490"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#ac7eb344cf60975382720f71182dab490">IMAGESTREAM_UNABLE_TO_MAP_FILE</a>&#160;&#160;&#160;-5</td></tr>
<tr class="separator:ac7eb344cf60975382720f71182dab490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae37af5c9dcf1d89b30b82ca4be840cfe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#ae37af5c9dcf1d89b30b82ca4be840cfe">IMAGESTREAM_MEMORY_ALLOC_ERROR</a>&#160;&#160;&#160;-6</td></tr>
<tr class="separator:ae37af5c9dcf1d89b30b82ca4be840cfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0d310d75b0c3ff53d524a0a5fe25b6f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#ac0d310d75b0c3ff53d524a0a5fe25b6f">IMAGESTREAM_THREAD_CREATE_ERROR</a>&#160;&#160;&#160;-7</td></tr>
<tr class="separator:ac0d310d75b0c3ff53d524a0a5fe25b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac914cc76952081d1ccc7c520e12770b1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#ac914cc76952081d1ccc7c520e12770b1">IMAGESTREAM_IS_SERVER</a>&#160;&#160;&#160;-8</td></tr>
<tr class="separator:ac914cc76952081d1ccc7c520e12770b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff57dd9d671a32995d562d68fcfa5fff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#aff57dd9d671a32995d562d68fcfa5fff">IMAGESTREAM_IS_NOTSERVER</a>&#160;&#160;&#160;-9</td></tr>
<tr class="separator:aff57dd9d671a32995d562d68fcfa5fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5bdc8c10b2aa9db85d0955c99cba2c6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#ae5bdc8c10b2aa9db85d0955c99cba2c6">IMAGESTREAM_FRAME_TOO_LARGE</a>&#160;&#160;&#160;-10</td></tr>
<tr class="separator:ae5bdc8c10b2aa9db85d0955c99cba2c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8389f19c29b726a2bed3c5831d1fb267"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#a8389f19c29b726a2bed3c5831d1fb267">IMAGESTREAM_LOCKED</a>&#160;&#160;&#160;-11</td></tr>
<tr class="separator:a8389f19c29b726a2bed3c5831d1fb267"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fbe522f7a46875a755f07c8ff69e2df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#a7fbe522f7a46875a755f07c8ff69e2df">IMAGESTREAM_OPTIONS_NONE</a>&#160;&#160;&#160;0x00000000</td></tr>
<tr class="separator:a7fbe522f7a46875a755f07c8ff69e2df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a536935e36e51aade42c2a49f8ecd7ae1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#a536935e36e51aade42c2a49f8ecd7ae1">IMAGESTREAM_OPTIONS_FLIPVERTICAL</a>&#160;&#160;&#160;0x00000100</td></tr>
<tr class="separator:a536935e36e51aade42c2a49f8ecd7ae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a0496a9a3db499fa9145fe97d2e6dae9a"><td class="memItemLeft" align="right" valign="top">typedef int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#a0496a9a3db499fa9145fe97d2e6dae9a">SharedMemoryImageError</a></td></tr>
<tr class="separator:a0496a9a3db499fa9145fe97d2e6dae9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5b8eb2ae90823f10e9a17698ea80749"><td class="memItemLeft" align="right" valign="top">typedef struct _SharedMemoryImageStream *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#af5b8eb2ae90823f10e9a17698ea80749">SharedMemoryImageStream</a></td></tr>
<tr class="separator:af5b8eb2ae90823f10e9a17698ea80749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a995c49496fcc1a41fb2d104c6473223b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct___shared_memory_frame.xhtml">_SharedMemoryFrame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#a995c49496fcc1a41fb2d104c6473223b">SharedMemoryFrame</a></td></tr>
<tr class="separator:a995c49496fcc1a41fb2d104c6473223b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a03ba052ae823b3e39fef153db8f03ea2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shared__memory__image__client_8h.xhtml#a0496a9a3db499fa9145fe97d2e6dae9a">SharedMemoryImageError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#a03ba052ae823b3e39fef153db8f03ea2">SharedMemoryImageStream_create</a> (const char *filename, uint32_t options, <a class="el" href="shared__memory__image__client_8h.xhtml#af5b8eb2ae90823f10e9a17698ea80749">SharedMemoryImageStream</a> *stream)</td></tr>
<tr class="separator:a03ba052ae823b3e39fef153db8f03ea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afefb8f5297147640b46d1f9eb1e77c9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shared__memory__image__client_8h.xhtml#a0496a9a3db499fa9145fe97d2e6dae9a">SharedMemoryImageError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#afefb8f5297147640b46d1f9eb1e77c9e">SharedMemoryImageStream_lock</a> (<a class="el" href="shared__memory__image__client_8h.xhtml#af5b8eb2ae90823f10e9a17698ea80749">SharedMemoryImageStream</a> stream, <a class="el" href="shared__memory__image__client_8h.xhtml#a995c49496fcc1a41fb2d104c6473223b">SharedMemoryFrame</a> *frame)</td></tr>
<tr class="separator:afefb8f5297147640b46d1f9eb1e77c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac885e449551afd5fb5a7f19c5ec785a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shared__memory__image__client_8h.xhtml#a0496a9a3db499fa9145fe97d2e6dae9a">SharedMemoryImageError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#ac885e449551afd5fb5a7f19c5ec785a6">SharedMemoryImageStream_unlock</a> (<a class="el" href="shared__memory__image__client_8h.xhtml#af5b8eb2ae90823f10e9a17698ea80749">SharedMemoryImageStream</a> stream)</td></tr>
<tr class="separator:ac885e449551afd5fb5a7f19c5ec785a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea47b6bda387b71ed5f91db329eff65"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shared__memory__image__client_8h.xhtml#a0496a9a3db499fa9145fe97d2e6dae9a">SharedMemoryImageError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#a4ea47b6bda387b71ed5f91db329eff65">SharedMemoryImageStream_destroy</a> (<a class="el" href="shared__memory__image__client_8h.xhtml#af5b8eb2ae90823f10e9a17698ea80749">SharedMemoryImageStream</a> stream)</td></tr>
<tr class="separator:a4ea47b6bda387b71ed5f91db329eff65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16abb961cf38273321e81cc64d71fad7"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shared__memory__image__client_8h.xhtml#a16abb961cf38273321e81cc64d71fad7">SharedMemoryImageStream_errorstring</a> (<a class="el" href="shared__memory__image__client_8h.xhtml#a0496a9a3db499fa9145fe97d2e6dae9a">SharedMemoryImageError</a> err)</td></tr>
<tr class="separator:a16abb961cf38273321e81cc64d71fad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section version"><dt>Version</dt><dd>1.0</dd></dl>
<p>This library implements a shared memory (memory mapped file) image transport system. To use the system, the client needs to do the following:</p>
<ol type="1">
<li>Create a physical file on disk that will serve as the memory mapped interface.</li>
<li>Make sure the file is large enough to hold 2 frames of imagery at maximum size plus 2K. So if the largest image would be for a 4K display, the file needs to be at least 24M + 2K in size (4K*3bytes/pixel*2 frames).</li>
<li>Make an EnSight grpc SubscribeImages() call with SubscribeImageOptions.type=GRPC and the name of the file created in the previous step passed with the "filename" key in SubscribeImageOptions.options. Note: that SubscribeImageOptions.prefix needs to be set to a unique string that will identify this channel. It is suggested that a GUID be used.</li>
<li>The EnSight grpc server will initialize the shared memory communication block and register it with the 'prefix' passed in the SubscribeImages() call. If the shared memory system can be constructed, it returns success.</li>
<li>On successful return from SubscribeImages(), the client then calls <a class="el" href="shared__memory__image__client_8h.xhtml#a03ba052ae823b3e39fef153db8f03ea2" title="SharedMemoryImageStream_create create a stream client instance.">SharedMemoryImageStream_create()</a> to connect to the server. <div class="fragment"><div class="line"><a class="code hl_typedef" href="shared__memory__image__client_8h.xhtml#af5b8eb2ae90823f10e9a17698ea80749">SharedMemoryImageStream</a> stream;</div>
<div class="line"><a class="code hl_typedef" href="shared__memory__image__client_8h.xhtml#a0496a9a3db499fa9145fe97d2e6dae9a">SharedMemoryImageError</a> err;</div>
<div class="line">err = <a class="code hl_function" href="shared__memory__image__client_8h.xhtml#a03ba052ae823b3e39fef153db8f03ea2">SharedMemoryImageStream_create</a>(<span class="stringliteral">&quot;shared_memory_file&quot;</span>, </div>
<div class="line">                                     <a class="code hl_define" href="shared__memory__image__client_8h.xhtml#a7fbe522f7a46875a755f07c8ff69e2df">IMAGESTREAM_OPTIONS_NONE</a>, &amp;stream);</div>
<div class="line"><span class="keywordflow">if</span> (err &lt; <a class="code hl_define" href="shared__memory__image__client_8h.xhtml#af995dd87ffd7dd178eef1d343f7b72bf">IMAGESTREAM_NOERROR</a>) &lt;handle error&gt;</div>
<div class="ttc" id="ashared__memory__image__client_8h_xhtml_a03ba052ae823b3e39fef153db8f03ea2"><div class="ttname"><a href="shared__memory__image__client_8h.xhtml#a03ba052ae823b3e39fef153db8f03ea2">SharedMemoryImageStream_create</a></div><div class="ttdeci">SharedMemoryImageError SharedMemoryImageStream_create(const char *filename, uint32_t options, SharedMemoryImageStream *stream)</div><div class="ttdoc">SharedMemoryImageStream_create create a stream client instance.</div></div>
<div class="ttc" id="ashared__memory__image__client_8h_xhtml_a0496a9a3db499fa9145fe97d2e6dae9a"><div class="ttname"><a href="shared__memory__image__client_8h.xhtml#a0496a9a3db499fa9145fe97d2e6dae9a">SharedMemoryImageError</a></div><div class="ttdeci">int SharedMemoryImageError</div><div class="ttdoc">common error codes see the non-hex, non-string IMAGESTREAM macros</div><div class="ttdef"><b>Definition:</b> <a href="shared__memory__image__client_8h_source.xhtml#l00109">shared_memory_image_client.h:109</a></div></div>
<div class="ttc" id="ashared__memory__image__client_8h_xhtml_a7fbe522f7a46875a755f07c8ff69e2df"><div class="ttname"><a href="shared__memory__image__client_8h.xhtml#a7fbe522f7a46875a755f07c8ff69e2df">IMAGESTREAM_OPTIONS_NONE</a></div><div class="ttdeci">#define IMAGESTREAM_OPTIONS_NONE</div><div class="ttdef"><b>Definition:</b> <a href="shared__memory__image__client_8h_source.xhtml#l00103">shared_memory_image_client.h:103</a></div></div>
<div class="ttc" id="ashared__memory__image__client_8h_xhtml_af5b8eb2ae90823f10e9a17698ea80749"><div class="ttname"><a href="shared__memory__image__client_8h.xhtml#af5b8eb2ae90823f10e9a17698ea80749">SharedMemoryImageStream</a></div><div class="ttdeci">struct _SharedMemoryImageStream * SharedMemoryImageStream</div><div class="ttdoc">image transport stream pointer</div><div class="ttdef"><b>Definition:</b> <a href="shared__memory__image__client_8h_source.xhtml#l00111">shared_memory_image_client.h:111</a></div></div>
<div class="ttc" id="ashared__memory__image__client_8h_xhtml_af995dd87ffd7dd178eef1d343f7b72bf"><div class="ttname"><a href="shared__memory__image__client_8h.xhtml#af995dd87ffd7dd178eef1d343f7b72bf">IMAGESTREAM_NOERROR</a></div><div class="ttdeci">#define IMAGESTREAM_NOERROR</div><div class="ttdef"><b>Definition:</b> <a href="shared__memory__image__client_8h_source.xhtml#l00088">shared_memory_image_client.h:88</a></div></div>
</div><!-- fragment --></li>
<li>Periodically, the client checks for a new image: <div class="fragment"><div class="line"><a class="code hl_struct" href="struct___shared_memory_frame.xhtml">SharedMemoryFrame</a> frame;</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_define" href="shared__memory__image__client_8h.xhtml#af995dd87ffd7dd178eef1d343f7b72bf">IMAGESTREAM_NOERROR</a> == <a class="code hl_function" href="shared__memory__image__client_8h.xhtml#afefb8f5297147640b46d1f9eb1e77c9e">SharedMemoryImageStream_lock</a>(stream, &amp;frame)) {</div>
<div class="line">    &lt;work on the pixels returned in <span class="stringliteral">&#39;frame&#39;</span>&gt;</div>
<div class="line">    <a class="code hl_function" href="shared__memory__image__client_8h.xhtml#ac885e449551afd5fb5a7f19c5ec785a6">SharedMemoryImageStream_unlock</a>(stream);</div>
<div class="line">}</div>
<div class="ttc" id="ashared__memory__image__client_8h_xhtml_ac885e449551afd5fb5a7f19c5ec785a6"><div class="ttname"><a href="shared__memory__image__client_8h.xhtml#ac885e449551afd5fb5a7f19c5ec785a6">SharedMemoryImageStream_unlock</a></div><div class="ttdeci">SharedMemoryImageError SharedMemoryImageStream_unlock(SharedMemoryImageStream stream)</div><div class="ttdoc">SharedMemoryImageStream_unlock release a frame obtained by SharedMemoryImageStream_lock.</div></div>
<div class="ttc" id="ashared__memory__image__client_8h_xhtml_afefb8f5297147640b46d1f9eb1e77c9e"><div class="ttname"><a href="shared__memory__image__client_8h.xhtml#afefb8f5297147640b46d1f9eb1e77c9e">SharedMemoryImageStream_lock</a></div><div class="ttdeci">SharedMemoryImageError SharedMemoryImageStream_lock(SharedMemoryImageStream stream, SharedMemoryFrame *frame)</div><div class="ttdoc">SharedMemoryImageStream_lock get a frame of pixels from the server.</div></div>
<div class="ttc" id="astruct___shared_memory_frame_xhtml"><div class="ttname"><a href="struct___shared_memory_frame.xhtml">_SharedMemoryFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="shared__memory__image__client_8h_source.xhtml#l00115">shared_memory_image_client.h:115</a></div></div>
</div><!-- fragment --> If a lock is successful, the frame will be valid and the shared memory system potentially blocked until unlock is called. Once unlock is called, the data returned in frame is no longer valid.</li>
<li>When the communication is finished, the client should make the grpc Unsubscribe() call with the same prefix passed in (3) and then call: <div class="fragment"><div class="line"><a class="code hl_typedef" href="shared__memory__image__client_8h.xhtml#a0496a9a3db499fa9145fe97d2e6dae9a">SharedMemoryImageError</a> err = <a class="code hl_function" href="shared__memory__image__client_8h.xhtml#a4ea47b6bda387b71ed5f91db329eff65">SharedMemoryImageStream_destroy</a>(stream);</div>
<div class="ttc" id="ashared__memory__image__client_8h_xhtml_a4ea47b6bda387b71ed5f91db329eff65"><div class="ttname"><a href="shared__memory__image__client_8h.xhtml#a4ea47b6bda387b71ed5f91db329eff65">SharedMemoryImageStream_destroy</a></div><div class="ttdeci">SharedMemoryImageError SharedMemoryImageStream_destroy(SharedMemoryImageStream stream)</div><div class="ttdoc">SharedMemoryImageStream_destroy destroy a stream interface, releasing its resources.</div></div>
</div><!-- fragment --> </li>
</ol>

<p class="definition">Definition in file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a64df229b0ac6942d9bdee4b94b2c096a" name="a64df229b0ac6942d9bdee4b94b2c096a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64df229b0ac6942d9bdee4b94b2c096a">&#9670;&#160;</a></span>IMAGESTREAM_API_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_API_VERSION&#160;&#160;&#160;&quot;1.0&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The current API version </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00081">81</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="ac2b3e8a36182f38dab1c5fd7a700a0c6" name="ac2b3e8a36182f38dab1c5fd7a700a0c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2b3e8a36182f38dab1c5fd7a700a0c6">&#9670;&#160;</a></span>IMAGESTREAM_BAD_ARGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_BAD_ARGS&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>one of the input parameters is invalid </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00090">90</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="a54a45d2f039e6275c28249eedfa2515d" name="a54a45d2f039e6275c28249eedfa2515d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54a45d2f039e6275c28249eedfa2515d">&#9670;&#160;</a></span>IMAGESTREAM_BAD_FILE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_BAD_FILE_SIZE&#160;&#160;&#160;-3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the shared memory file is too small (&lt;10MB) or non-existant </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00092">92</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="ae5bdc8c10b2aa9db85d0955c99cba2c6" name="ae5bdc8c10b2aa9db85d0955c99cba2c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5bdc8c10b2aa9db85d0955c99cba2c6">&#9670;&#160;</a></span>IMAGESTREAM_FRAME_TOO_LARGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_FRAME_TOO_LARGE&#160;&#160;&#160;-10</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the image frame is too large for the size of the shared memory file </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00099">99</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="aff57dd9d671a32995d562d68fcfa5fff" name="aff57dd9d671a32995d562d68fcfa5fff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff57dd9d671a32995d562d68fcfa5fff">&#9670;&#160;</a></span>IMAGESTREAM_IS_NOTSERVER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_IS_NOTSERVER&#160;&#160;&#160;-9</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the call is not valid for shared memory client to make </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00098">98</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="ac914cc76952081d1ccc7c520e12770b1" name="ac914cc76952081d1ccc7c520e12770b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac914cc76952081d1ccc7c520e12770b1">&#9670;&#160;</a></span>IMAGESTREAM_IS_SERVER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_IS_SERVER&#160;&#160;&#160;-8</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the call is not valid for shared memory server to make </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00097">97</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="a8389f19c29b726a2bed3c5831d1fb267" name="a8389f19c29b726a2bed3c5831d1fb267"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8389f19c29b726a2bed3c5831d1fb267">&#9670;&#160;</a></span>IMAGESTREAM_LOCKED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_LOCKED&#160;&#160;&#160;-11</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>this call is not legal until the stream has been unlocked </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00100">100</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="ae37af5c9dcf1d89b30b82ca4be840cfe" name="ae37af5c9dcf1d89b30b82ca4be840cfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae37af5c9dcf1d89b30b82ca4be840cfe">&#9670;&#160;</a></span>IMAGESTREAM_MEMORY_ALLOC_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_MEMORY_ALLOC_ERROR&#160;&#160;&#160;-6</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>insufficient system memory for internal object allocation </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00095">95</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="a78414d594aa9bb3f9bcea84c768d2826" name="a78414d594aa9bb3f9bcea84c768d2826"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78414d594aa9bb3f9bcea84c768d2826">&#9670;&#160;</a></span>IMAGESTREAM_NO_BUFFERAVAILABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_NO_BUFFERAVAILABLE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Not an error, but there were no free buffers to put the frame into </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00087">87</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="a7a7491d1019b67d55ac6488c0e3cb637" name="a7a7491d1019b67d55ac6488c0e3cb637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a7491d1019b67d55ac6488c0e3cb637">&#9670;&#160;</a></span>IMAGESTREAM_NO_FRAMEAVAILABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_NO_FRAMEAVAILABLE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Not an error, but there was no frame available to read </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00086">86</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="af995dd87ffd7dd178eef1d343f7b72bf" name="af995dd87ffd7dd178eef1d343f7b72bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af995dd87ffd7dd178eef1d343f7b72bf">&#9670;&#160;</a></span>IMAGESTREAM_NOERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_NOERROR&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Operation successful </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00088">88</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="ab7873d9185a495020022f80c238142bc" name="ab7873d9185a495020022f80c238142bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7873d9185a495020022f80c238142bc">&#9670;&#160;</a></span>IMAGESTREAM_NOT_LOCKED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_NOT_LOCKED&#160;&#160;&#160;-2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>an attempt was made to unlock without it having been locked </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00091">91</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="a536935e36e51aade42c2a49f8ecd7ae1" name="a536935e36e51aade42c2a49f8ecd7ae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a536935e36e51aade42c2a49f8ecd7ae1">&#9670;&#160;</a></span>IMAGESTREAM_OPTIONS_FLIPVERTICAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_OPTIONS_FLIPVERTICAL&#160;&#160;&#160;0x00000100</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>this is a server flag that requests that pixels be flipped vertically relative to the input buffer </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00105">105</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="a7fbe522f7a46875a755f07c8ff69e2df" name="a7fbe522f7a46875a755f07c8ff69e2df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fbe522f7a46875a755f07c8ff69e2df">&#9670;&#160;</a></span>IMAGESTREAM_OPTIONS_NONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_OPTIONS_NONE&#160;&#160;&#160;0x00000000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the default options for a client stream </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00103">103</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="aa17e85c9001e414b9ac1db640884b944" name="aa17e85c9001e414b9ac1db640884b944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa17e85c9001e414b9ac1db640884b944">&#9670;&#160;</a></span>IMAGESTREAM_RECONNECTING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_RECONNECTING&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The stream being connected to was already active, this may or may not be an error </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00085">85</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="ac0d310d75b0c3ff53d524a0a5fe25b6f" name="ac0d310d75b0c3ff53d524a0a5fe25b6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0d310d75b0c3ff53d524a0a5fe25b6f">&#9670;&#160;</a></span>IMAGESTREAM_THREAD_CREATE_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_THREAD_CREATE_ERROR&#160;&#160;&#160;-7</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>unable to create background processing threads </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00096">96</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="ac7eb344cf60975382720f71182dab490" name="ac7eb344cf60975382720f71182dab490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7eb344cf60975382720f71182dab490">&#9670;&#160;</a></span>IMAGESTREAM_UNABLE_TO_MAP_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_UNABLE_TO_MAP_FILE&#160;&#160;&#160;-5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the shared memory file could not be memory mapped </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00094">94</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="a5b68da171a139f688d317320d0a4eb3e" name="a5b68da171a139f688d317320d0a4eb3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b68da171a139f688d317320d0a4eb3e">&#9670;&#160;</a></span>IMAGESTREAM_UNABLE_TO_OPEN_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_UNABLE_TO_OPEN_FILE&#160;&#160;&#160;-4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the shared memory file could not be opened with necessary permissions </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00093">93</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="a2cc13f7eda736fddce876cf5cae2c502" name="a2cc13f7eda736fddce876cf5cae2c502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cc13f7eda736fddce876cf5cae2c502">&#9670;&#160;</a></span>IMAGESTREAM_UNCONNECTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMAGESTREAM_UNCONNECTED&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Not an error, but no client is listening to the stream </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00084">84</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a995c49496fcc1a41fb2d104c6473223b" name="a995c49496fcc1a41fb2d104c6473223b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a995c49496fcc1a41fb2d104c6473223b">&#9670;&#160;</a></span>SharedMemoryFrame</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___shared_memory_frame.xhtml">_SharedMemoryFrame</a> * <a class="el" href="shared__memory__image__client_8h.xhtml#a995c49496fcc1a41fb2d104c6473223b">SharedMemoryFrame</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A reference to a frame of imagery. Note it does not own the buffer pointer. </p>
<p>Structure representing a frame of imagery in sequence </p>

</div>
</div>
<a id="a0496a9a3db499fa9145fe97d2e6dae9a" name="a0496a9a3db499fa9145fe97d2e6dae9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0496a9a3db499fa9145fe97d2e6dae9a">&#9670;&#160;</a></span>SharedMemoryImageError</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int <a class="el" href="shared__memory__image__client_8h.xhtml#a0496a9a3db499fa9145fe97d2e6dae9a">SharedMemoryImageError</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>common error codes see the non-hex, non-string IMAGESTREAM macros </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00109">109</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<a id="af5b8eb2ae90823f10e9a17698ea80749" name="af5b8eb2ae90823f10e9a17698ea80749"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5b8eb2ae90823f10e9a17698ea80749">&#9670;&#160;</a></span>SharedMemoryImageStream</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct _SharedMemoryImageStream* <a class="el" href="shared__memory__image__client_8h.xhtml#af5b8eb2ae90823f10e9a17698ea80749">SharedMemoryImageStream</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>image transport stream pointer </p>

<p class="definition">Definition at line <a class="el" href="shared__memory__image__client_8h_source.xhtml#l00111">111</a> of file <a class="el" href="shared__memory__image__client_8h_source.xhtml">shared_memory_image_client.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a03ba052ae823b3e39fef153db8f03ea2" name="a03ba052ae823b3e39fef153db8f03ea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03ba052ae823b3e39fef153db8f03ea2">&#9670;&#160;</a></span>SharedMemoryImageStream_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shared__memory__image__client_8h.xhtml#a0496a9a3db499fa9145fe97d2e6dae9a">SharedMemoryImageError</a> SharedMemoryImageStream_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shared__memory__image__client_8h.xhtml#af5b8eb2ae90823f10e9a17698ea80749">SharedMemoryImageStream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SharedMemoryImageStream_create create a stream client instance. </p>
<p>This function will map the file pointed to by filename as shared memory an use it to stream images between two applications. The file must (1) exist, (2) be at least 20MB in size and (3) be opened by a server stream before the client stream is created. Once created, the stream interface handle must be destroyed by SharedMemoryImageStream_destroy to release the stream resources.</p>
<p>The file to be used as the shared memory map should be at least 2x the size of the largest image that will be used. For example if you want to transport 4K images, the file should be at least 4000pixels*3bytes/pixel*2 + 500bytes in size. The file must be on a filesystem that support memory mapped I/O.</p>
<p>Negative error codes are a failure of the operation for various reasons. The IMAGESTREAM_RECONNECTING error code can occur if the file has been (or currently is) already supporting a stream and may or may not be an actual error.</p>
<p>Note: server instances can be created using undocumented option flags.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>- the name of a pre-existing file to use as the shared memory window </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">options</td><td>- stream creation options </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">stream</td><td>- if the returned error value is &gt;=0, this pointer will be returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SharedMemoryImageError - the error code for this call. </dd></dl>

</div>
</div>
<a id="a4ea47b6bda387b71ed5f91db329eff65" name="a4ea47b6bda387b71ed5f91db329eff65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ea47b6bda387b71ed5f91db329eff65">&#9670;&#160;</a></span>SharedMemoryImageStream_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shared__memory__image__client_8h.xhtml#a0496a9a3db499fa9145fe97d2e6dae9a">SharedMemoryImageError</a> SharedMemoryImageStream_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shared__memory__image__client_8h.xhtml#af5b8eb2ae90823f10e9a17698ea80749">SharedMemoryImageStream</a>&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SharedMemoryImageStream_destroy destroy a stream interface, releasing its resources. </p>
<p>This function is called to shutdown one end of an image transport stream. It can be the client or server end of the stream.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>- the stream to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SharedMemoryImageError - error code for the operation </dd></dl>

</div>
</div>
<a id="a16abb961cf38273321e81cc64d71fad7" name="a16abb961cf38273321e81cc64d71fad7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16abb961cf38273321e81cc64d71fad7">&#9670;&#160;</a></span>SharedMemoryImageStream_errorstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * SharedMemoryImageStream_errorstring </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shared__memory__image__client_8h.xhtml#a0496a9a3db499fa9145fe97d2e6dae9a">SharedMemoryImageError</a>&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SharedMemoryImageStream_errorstring convert an error code into a human string. </p>
<p>For a given SharedMemoryImageError error code, return a const char * pointer to a utf8 encoded string with a human readable description of the error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">err</td><td>- the error code </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>const char * - The string describing the error (utf8 encoding) </dd></dl>

</div>
</div>
<a id="afefb8f5297147640b46d1f9eb1e77c9e" name="afefb8f5297147640b46d1f9eb1e77c9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afefb8f5297147640b46d1f9eb1e77c9e">&#9670;&#160;</a></span>SharedMemoryImageStream_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shared__memory__image__client_8h.xhtml#a0496a9a3db499fa9145fe97d2e6dae9a">SharedMemoryImageError</a> SharedMemoryImageStream_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shared__memory__image__client_8h.xhtml#af5b8eb2ae90823f10e9a17698ea80749">SharedMemoryImageStream</a>&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shared__memory__image__client_8h.xhtml#a995c49496fcc1a41fb2d104c6473223b">SharedMemoryFrame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SharedMemoryImageStream_lock get a frame of pixels from the server. </p>
<p>This call should be made periodically by the client application to read images from the server. If the function returns IMAGESTREAM_NOERROR, then the frame argument contains the raw pixel data and the data pointer in that structure is valid until <a class="el" href="shared__memory__image__client_8h.xhtml#ac885e449551afd5fb5a7f19c5ec785a6" title="SharedMemoryImageStream_unlock release a frame obtained by SharedMemoryImageStream_lock.">SharedMemoryImageStream_unlock()</a> is called. If the function returns IMAGESTREAM_NO_FRAMEAVAILABLE, no new imagery is available from the server and <a class="el" href="shared__memory__image__client_8h.xhtml#ac885e449551afd5fb5a7f19c5ec785a6" title="SharedMemoryImageStream_unlock release a frame obtained by SharedMemoryImageStream_lock.">SharedMemoryImageStream_unlock()</a> does not need to be called.</p>
<p>The frame structure is filled out by this call and the buffer field will be a pointer to the packed RGB image array in row major RBG order. The pointer will point to iWidth*iHeight*3 bytes of data. iFrame will be the frame number. The frame number will always increase, but there may be gaps in the numbering, depending on the render vs image read speeds.</p>
<p>The buffer pointer must not be deallocated by the application.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>- the stream to check for imagery </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">frame</td><td>- the currently available image (if any) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SharedMemoryImageError - the error code for the operation. </dd></dl>

</div>
</div>
<a id="ac885e449551afd5fb5a7f19c5ec785a6" name="ac885e449551afd5fb5a7f19c5ec785a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac885e449551afd5fb5a7f19c5ec785a6">&#9670;&#160;</a></span>SharedMemoryImageStream_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shared__memory__image__client_8h.xhtml#a0496a9a3db499fa9145fe97d2e6dae9a">SharedMemoryImageError</a> SharedMemoryImageStream_unlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shared__memory__image__client_8h.xhtml#af5b8eb2ae90823f10e9a17698ea80749">SharedMemoryImageStream</a>&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SharedMemoryImageStream_unlock release a frame obtained by SharedMemoryImageStream_lock. </p>
<p>If <a class="el" href="shared__memory__image__client_8h.xhtml#afefb8f5297147640b46d1f9eb1e77c9e" title="SharedMemoryImageStream_lock get a frame of pixels from the server.">SharedMemoryImageStream_lock()</a> was called and returned IMAGESTREAM_NOERROR, this function must be called to release the frame back to the stream manager. Note, after making this call, the calling application should no longer access any of the fields in the frame returned by the locking call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>- the stream to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SharedMemoryImageError - error code for the operation </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/>
<small>&#160;&#160;&copy; <script type="text/javascript">document.write(new Date().getFullYear());</script> ANSYS Inc. All rights reserved.</small>
 <span style="float:right"><small>Generated by <a href="http://www.doxygen.org/index.html">doxygen</a>&nbsp;&nbsp;</small></span>
