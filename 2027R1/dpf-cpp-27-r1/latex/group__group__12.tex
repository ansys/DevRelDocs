\doxysubsection{Using collections and labels }
\hypertarget{group__group__12}{}\label{group__group__12}\index{Using collections and labels@{Using collections and labels}}
DPF Collections are containers used for storing data. They are currently three types of collections:\+
\begin{DoxyItemize}
\item Fields\+Container
\item Scopings\+Container
\item Meshes\+Container Each container will store a vector with the defined data type. For example, a Scopings\+Container will store a vector of Scopings. DPF Collections are ordered with labels and ids. The ids must be meaningful regarding the stored data.
\end{DoxyItemize}

For example, the following Fields\+Container contains a vector of Fields based on the “time” label, that refers to the time sets (ids) of a simulation result.

~\newline
~\newline
~\newline


{\bfseries{Topics:\+}}


\begin{DoxyItemize}
\item Labels mechanism
\item Fields Container
\item Scopings Containers and Meshes Containers
\end{DoxyItemize}\hypertarget{group__group__12_autotoc_md78}{}\doxysubsubsubsection{\texorpdfstring{\label{_coll1}%
Labels mechanism}{\label{_coll1}%
Labels mechanism}}\label{group__group__12_autotoc_md78}
Each collection must have a vector of labels defined. It is a list of strings describing each element. A label is a string that defines a criterion (for example “time”, “complex”, “body”, “dofs”, “domain”, a.\+s.\+o.). Each element of that collection has a label space associated. This label space is a map that associates each label with a meaningful id. For example, body ids are usually associated to the “body” label in a defined label space. More generally, the n labels of a collection define a n-\/dimensional space on which the container is defined. The labels space associated to a specific entity (e.\+g. Field, Scoping, Mesh) represents a coordinates-\/like identifier of this entity in this space.\hypertarget{group__group__12_autotoc_md79}{}\doxysubsubsubsection{\texorpdfstring{\label{_coll2}%
Fields Container}{\label{_coll2}%
Fields Container}}\label{group__group__12_autotoc_md79}
\hypertarget{group__group__12_autotoc_md80}{}\doxysubsubsubsubsection{\texorpdfstring{Description}{Description}}\label{group__group__12_autotoc_md80}
The Fields Container is a vector of Fields, and all the Fields are ordered with labels and ids. Most commonly, the Fields Container is scoped on "{}time"{} label and the ids are the time or frequency sets. Generally, Fields Container allows to split results on different criterions.\hypertarget{group__group__12_autotoc_md81}{}\doxysubsubsubsubsection{\texorpdfstring{Examples}{Examples}}\label{group__group__12_autotoc_md81}
\hypertarget{group__group__12_autotoc_md82}{}\doxysubsubsubsubsubsection{\texorpdfstring{Result by time steps and body}{Result by time steps and body}}\label{group__group__12_autotoc_md82}
The following representations shows a Fields\+Container storing 8 fields. The Fields\+Container contains a result (e.\+g. displacement) sorted by body ids and by time sets:\+ each field must have a time id and a body id defined.

~\newline
 ~\newline
~\newline


The following C++ code snippets show how to:\+
\begin{DoxyItemize}
\item create such a Fields\+Container
\item access the available ids for a defined label
\item access a specific result Field at defined time step and body id
\item access a vector of result Fields at defined body id
\end{DoxyItemize}\hypertarget{group__group__12_autotoc_md83}{}\doxysubsubsubsubsubsubsection{\texorpdfstring{Create the Fields\+Container and access the available ids for a defined label}{Create the Fields\+Container and access the available ids for a defined label}}\label{group__group__12_autotoc_md83}

\begin{DoxyCode}{0}
\DoxyCodeLine{//\ Build\ a\ FieldsContainer\ with\ "{}time"{}\ and\ "{}body"{}\ labels}
\DoxyCodeLine{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{ansys::dpf::FieldsContainer\ fields\_container;}
\DoxyCodeLine{fields\_container.addLabels(\{\ ansys::dpf::labels::time,\ ansys::dpf::labels::body\ \});}
\DoxyCodeLine{}
\DoxyCodeLine{//\ create\ the\ Fields\ and\ their\ associated\ label\ spaces}
\DoxyCodeLine{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{ansys::dpf::LabelSpace\ label\_space\_0(\{\ \{ansys::dpf::labels::time,\ 1\},\ \{ansys::dpf::labels::body,\ 2\}\ \});}
\DoxyCodeLine{ansys::dpf::Field\ field\_0;\ }
\DoxyCodeLine{//\ ...\ fill\ field\_0\ data}
\DoxyCodeLine{ansys::dpf::LabelSpace\ label\_space\_1(\{\ \{ansys::dpf::labels::time,\ 1\},\ \{ansys::dpf::labels::body,\ 6\}\ \});}
\DoxyCodeLine{ansys::dpf::Field\ field\_1;}
\DoxyCodeLine{//\ ...\ fill\ field\_1\ data}
\DoxyCodeLine{ansys::dpf::LabelSpace\ label\_space\_2(\{\ \{ansys::dpf::labels::time,\ 1\},\ \{ansys::dpf::labels::body,\ 17\}\ \});}
\DoxyCodeLine{ansys::dpf::Field\ field\_2;}
\DoxyCodeLine{//\ ...\ fill\ field\_2\ data}
\DoxyCodeLine{ansys::dpf::LabelSpace\ label\_space\_3(\{\ \{ansys::dpf::labels::time,\ 1\},\ \{ansys::dpf::labels::body,\ 19\}\ \});}
\DoxyCodeLine{ansys::dpf::Field\ field\_3;}
\DoxyCodeLine{//\ ...\ fill\ field\_3\ data}
\DoxyCodeLine{ansys::dpf::LabelSpace\ label\_space\_4(\{\ \{ansys::dpf::labels::time,\ 4\},\ \{ansys::dpf::labels::body,\ 2\}\ \});}
\DoxyCodeLine{ansys::dpf::Field\ field\_4;}
\DoxyCodeLine{//\ ...\ fill\ field\_4\ data}
\DoxyCodeLine{ansys::dpf::LabelSpace\ label\_space\_5(\{\ \{ansys::dpf::labels::time,\ 4\},\ \{ansys::dpf::labels::body,\ 6\}\ \});}
\DoxyCodeLine{ansys::dpf::Field\ field\_5;}
\DoxyCodeLine{//\ ...\ fill\ field\_5\ data}
\DoxyCodeLine{ansys::dpf::LabelSpace\ label\_space\_6(\{\ \{ansys::dpf::labels::time,\ 4\},\ \{ansys::dpf::labels::body,\ 17\}\ \});}
\DoxyCodeLine{ansys::dpf::Field\ field\_6;}
\DoxyCodeLine{//\ ...\ fill\ field\_6\ data}
\DoxyCodeLine{ansys::dpf::LabelSpace\ label\_space\_7(\{\ \{ansys::dpf::labels::time,\ 4\},\ \{ansys::dpf::labels::body,\ 19\}\ \});}
\DoxyCodeLine{ansys::dpf::Field\ field\_7;}
\DoxyCodeLine{//\ ...\ fill\ field\_7\ data}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Add\ fields\ to\ the\ fields\_container}
\DoxyCodeLine{fields\_container.add(label\_space\_0,\ field\_0);}
\DoxyCodeLine{fields\_container.add(label\_space\_1,\ field\_1);}
\DoxyCodeLine{fields\_container.add(label\_space\_2,\ field\_2);}
\DoxyCodeLine{fields\_container.add(label\_space\_3,\ field\_3);}
\DoxyCodeLine{fields\_container.add(label\_space\_4,\ field\_4);}
\DoxyCodeLine{fields\_container.add(label\_space\_5,\ field\_5);}
\DoxyCodeLine{fields\_container.add(label\_space\_6,\ field\_6);}
\DoxyCodeLine{fields\_container.add(label\_space\_7,\ field\_7);}
\DoxyCodeLine{}
\DoxyCodeLine{//\ access\ the\ available\ ids\ for\ a\ defined\ label}
\DoxyCodeLine{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{ansys::dpf::Scoping\ body\_label\_ids\ =\ fields\_container.labelScoping(ansys::dpf::labels::body);}
\DoxyCodeLine{int*\ scoping\_ids\ =\ body\_label\_ids.ids().data();}

\end{DoxyCode}


{\ttfamily scopings\+\_\+ids} should contain the following values:\+ 2, 6, 17, 19.\hypertarget{group__group__12_autotoc_md84}{}\doxysubsubsubsubsubsubsection{\texorpdfstring{Access a specific result Field at defined time step and body id}{Access a specific result Field at defined time step and body id}}\label{group__group__12_autotoc_md84}
The following code snippet shows how to access the following Field in the Fields\+Container previously created:\+

~\newline
~\newline
~\newline



\begin{DoxyCode}{0}
\DoxyCodeLine{ansys::dpf::LabelSpace\ label\_space\_time\_4\_body\_17(\{\ \{ansys::dpf::labels::time,\ 4\},\ \{ansys::dpf::labels::body,\ 17\}\ \});}
\DoxyCodeLine{}
\DoxyCodeLine{ansys::dpf::Field\ field\_time\_4\_body\_17\ =\ fields\_container.getField(label\_space\_time\_4\_body\_17);}

\end{DoxyCode}


See Field section to learn how to access the Field\textquotesingle{}s data.\hypertarget{group__group__12_autotoc_md85}{}\doxysubsubsubsubsubsubsection{\texorpdfstring{access a vector of result Fields at defined body id}{access a vector of result Fields at defined body id}}\label{group__group__12_autotoc_md85}
The following code snippet shows how to access the following vector of Fields in the Fields\+Container previously created:\+

~\newline
~\newline
~\newline



\begin{DoxyCode}{0}
\DoxyCodeLine{//\ Get\ vector\ of\ Fields}
\DoxyCodeLine{ansys::dpf::LabelSpace\ label\_space\_body\_6(\{\ \{ansys::dpf::labels::body,\ 6\}\ \});}
\DoxyCodeLine{std::vector<ansys::dpf::Field>\ fields\_with\_body\_id\_6\ =\ fields\_container.getFields(label\_space\_body\_6);}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Get\ the\ label\ space\ associated\ to\ the\ first\ returned\ field\ to\ know\ its\ time\ id}
\DoxyCodeLine{std::vector<int>\ fields\_indices\ =\ fields\_container.getFieldsIndeces(label\_space\_body\_6);}
\DoxyCodeLine{ansys::dpf::LabelSpace\ first\_label\_space\ =\ fields\_container.getLabelSpace(fields\_indices[0]);}
\DoxyCodeLine{int\ first\_index\_time\_id\ =\ first\_label\_space.at(ansys::dpf::labels::time);}

\end{DoxyCode}


{\ttfamily fields\+\_\+indices} vector should contain the following values:\+ 1, 5.

A similar code using the "{}time"{} label instead of the "{}body"{} one would allow to access a vector of result Fields at a defined time id.

To know how to integrate DPF capabilities in already existing project, refer to the \doxylink{group__group__06__1}{Using DPF capabilities in an existing project} section.\hypertarget{group__group__12_autotoc_md86}{}\doxysubsubsubsubsubsection{\texorpdfstring{Result by time steps, body and complex ids}{Result by time steps, body and complex ids}}\label{group__group__12_autotoc_md86}
The following representation shows a Fields\+Container storing 16 fields. The Fields\+Container contains a result (e.\+g. displacement) sorted by body ids, by time steps and complexity status:\+ each field must have a time id, a body id and a complex id (that defines if the Field defines the complex or the real part of the result) defined.

~\newline
~\newline
 ~\newline
\hypertarget{group__group__12_autotoc_md87}{}\doxysubsubsubsection{\texorpdfstring{\label{_coll3}%
Scopings Container and Meshes Container}{\label{_coll3}%
Scopings Container and Meshes Container}}\label{group__group__12_autotoc_md87}
The Scopings Container is a vector of Scopings and all the Scopings are ordered with labels and ids. Most commonly, the Scopings Container is scoped on "{}body"{} label and the ids are the material/\+body ids. More generically, the Scopings Container allows to split results on different criterions. Likewise for the Meshes Container.

Generally, a defined Scopings\+Container will contain Scoping entities to apply on the Meshes entities of a corresponding Meshes\+Container. The correspondence between Scoping and Meshes entities is made using the label spaces (check for corresponding labels and ids).

~\newline
~\newline
~\newline
~\newline
 