\doxysection{Model\+Test.\+cpp}
\hypertarget{ModelTest_8cpp-example}{}\label{ModelTest_8cpp-example}Examples showing how to load and use an RST file.


\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{comment}{//}}
\DoxyCodeLine{\textcolor{comment}{//\ COPYRIGHT\ ANSYS.\ ALL\ RIGHTS\ RESERVED.}}
\DoxyCodeLine{\textcolor{comment}{//}}
\DoxyCodeLine{\textcolor{preprocessor}{\#ifdef\ EXAMPLE}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}Example.h"{}}}
\DoxyCodeLine{\textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <gtest/gtest.h>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}helpers/dpf\_model.h"{}}}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ \_USE\_MATH\_DEFINES}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <math.h>}}
\DoxyCodeLine{}
\DoxyCodeLine{TEST(Model,\ readMetaData)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ std::string\ fileName(\textcolor{stringliteral}{"{}../../../testfiles/mapdl\_files/TwoSolids.rst"{}});}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1Model}{ansys::dpf::Model}}\ model(fileName);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion}{ansys::dpf::MeshedRegion}}\ mesh\ =\ model.\doxymbox{\hyperlink{classansys_1_1dpf_1_1Model_a48c91a341bc268e48fe4efd1e8c8cb0f}{getMesh}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ numEle\ =\ mesh.\doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion_ac3a262bc236fda82374a462d7c9e240c}{numberOfElements}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_TRUE(numEle\ ==\ 165);}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ numNodes\ =\ mesh.\doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion_af8ad6b50708b2c201a457c5da8e819da}{numberOfNodes}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_TRUE(numNodes\ ==\ 344);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1Field}{ansys::dpf::Field}}\ fieldCoord\ =\ mesh.\doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion_a482ae171f257bfe86c8e567f0882caa4}{nodesCoordinates}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(fieldCoord.\doxymbox{\hyperlink{classansys_1_1dpf_1_1Field_a9bb7ac154ee6720cbb98b1c09e056942}{dataSize}}(),\ 344\ *\ 3);}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1PropertyField}{ansys::dpf::PropertyField}}\ elementsConnectivity\ =\ mesh.\doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion_a2c75723ffc634c39b081eecd31d54309}{connectivity}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(elementsConnectivity.\doxymbox{\hyperlink{classansys_1_1dpf_1_1PropertyField_af0ff358222e067e0c03d588a6b11b04c}{dataSize}}(),\ 1562);}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1TimeFreqSupport}{ansys::dpf::TimeFreqSupport}}\ timeSupport\ =\ model.\doxymbox{\hyperlink{classansys_1_1dpf_1_1Model_a431d3eb5237f3b5f9f99631c259c53d2}{getTimeFreqSupport}}();}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ numSets\ =\ timeSupport.\doxymbox{\hyperlink{classansys_1_1dpf_1_1TimeFreqSupport_a87c577de73b5ba2260cf3f940ac43068}{numberOfSets}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_TRUE(numSets\ ==\ 1);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ vNamedSelections\ =\ mesh.\doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion_a3b768ab61193b7b1a6359f4ac619d1c4}{availableNamedSelections}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(vNamedSelections.size(),\ 1);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{TEST(Model,\ readResultInfo)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ std::string\ fileName(\textcolor{stringliteral}{"{}../../../testfiles/mapdl\_files/TwoSolids.rst"{}});}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1Model}{ansys::dpf::Model}}\ model(fileName);}
\DoxyCodeLine{\ \ \ }
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo}{ansys::dpf::ResultInfo}}\ resInfo\ =\ model.getResultInfo();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ numRes\ =\ resInfo.\doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_a69427d3a5823aa23acfc59b891fa662a}{numberOfResults}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(numRes,\ 25);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ unit\ =\ resInfo.\doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_a62c992acfa6ffc5b73de0f75f57f7e58}{unitSystem}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_a7242b85e3d035f0953356a1146e742ae}{ansys::dpf::ResultInfo::analysis\_type}}\ analysisType\ =\ resInfo.\doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_a9cbdb503d903b0a8212cc32a952c1ad2}{analysisType}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_a4c9d8d076df7a3899011b1b2195dfaba}{ansys::dpf::ResultInfo::physics\_type}}\ physicsType\ =\ resInfo.\doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_abc776e636cedf999ab85007904f110a9}{physicsType}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ availReslts\ =\ resInfo.\doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_a48e23d251d6109166a2a1f681a39c58a}{availableResults}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ majorVersion,\ minorVersion;}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ solve\_date,\ solve\_time;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ resInfo.\doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_a0d2b564f1b52afc97ef5be1d4e4661f9}{solver\_version}}(majorVersion,\ minorVersion);}
\DoxyCodeLine{\ \ \ \ resInfo.\doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_a52ed9fdb1a2a92a7ada0fed534c200b5}{solve\_date\_time}}(solve\_date,\ solve\_time);}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ userName\ =\ resInfo.\doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_ac3786ae43ac33386010794e990a31146}{user\_name}}();}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ productName\ =\ resInfo.\doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_a8b1146409fe3f14fda0b331faf1bf9fe}{product\_name}}();}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ jobName\ =\ resInfo.\doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_ae6ed610647bdabcc9baab02b19462f99}{job\_name}}();}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ mainTitle\ =\ resInfo.\doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_a8071bc87922ee65107a63fc2f1eefd3d}{main\_title}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(availReslts.size(),\ 25);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ EXPECT\_STREQ(unit.c\_str(),\ \textcolor{stringliteral}{"{}solver\_mks"{}});}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(analysisType,\ \doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_a7242b85e3d035f0953356a1146e742aea2ad50e8511b81f014d3275f5ac2d617d}{ansys::dpf::ResultInfo::eStatic}});}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(physicsType,\ \doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_a4c9d8d076df7a3899011b1b2195dfabaab1cdf6ed7eb8c9102327076240beb06f}{ansys::dpf::ResultInfo::eMecanic}});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(majorVersion,\ 19);}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(minorVersion,\ 4);}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(solve\_date,\ 20190128);}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(solve\_time,\ 175709);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ EXPECT\_STREQ(userName.c\_str(),\ \textcolor{stringliteral}{"{}rlagha"{}});}
\DoxyCodeLine{\ \ \ \ EXPECT\_STREQ(productName.c\_str(),\ \textcolor{stringliteral}{"{}MAPDL"{}});}
\DoxyCodeLine{\ \ \ \ EXPECT\_STREQ(jobName.c\_str(),\ \textcolor{stringliteral}{"{}file"{}});}
\DoxyCodeLine{\ \ \ \ EXPECT\_STREQ(mainTitle.c\_str(),\ \textcolor{stringliteral}{"{}unsaved\_project-\/-\/Static\ Structural\ (B5)"{}});}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{TEST(Model,\ readResultInfo\_using\_unit\_strings)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ resultInfo\ =\ \doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo}{ansys::dpf::ResultInfo}}(\doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_a7242b85e3d035f0953356a1146e742aea2ad50e8511b81f014d3275f5ac2d617d}{ansys::dpf::ResultInfo::analysis\_type::eStatic}},\ (\doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_a4c9d8d076df7a3899011b1b2195dfabaadadd255c26d856ba97f4a290b3769107}{ansys::dpf::ResultInfo::physics\_type::eFluid}}));}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{structansys_1_1dpf_1_1UnitSystem}{ansys::dpf::UnitSystem}}\ si\_cff(\textcolor{stringliteral}{"{}CFF\_SI"{}},\ \textcolor{stringliteral}{"{}m;s;kg;K;m/s;J;MPa;MPa*m\string^0.5;C;A;V;H;F;rad"{}});}
\DoxyCodeLine{\ \ \ \ resultInfo.setUnitSystem(si\_cff);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ unit\_system\_name\ =\ resultInfo.unitSystemName();}
\DoxyCodeLine{\ \ \ \ EXPECT\_STREQ(unit\_system\_name.c\_str(),\ \textcolor{stringliteral}{"{}SI:\ m,\ kg,\ s,\ V,\ A,\ K"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ unit\_system\ =\ resultInfo.unitSystem();}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1Unit}{ansys::dpf::Unit}}\ unit\_temp\_diff(\doxymbox{\hyperlink{structansys_1_1dpf_1_1homogeneities_ac34f11f1e215920d52e22121ea776054}{ansys::dpf::homogeneities::temperature\_difference}},\ unit\_system);}
\DoxyCodeLine{\ \ \ \ EXPECT\_STREQ(unit\_temp\_diff.c\_str(),\ \textcolor{stringliteral}{"{}dK"{}});}
\DoxyCodeLine{\}}
\DoxyCodeLine{TEST(Model,\ accessTimeFreqSupport)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ std::string\ fileName(\textcolor{stringliteral}{"{}../../../testfiles/cyclic/file.rst"{}});}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1Model}{ansys::dpf::Model}}\ model(fileName);}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1TimeFreqSupport}{ansys::dpf::TimeFreqSupport}}\ timeSupport\ =\ model.getTimeFreqSupport();}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ numSets\ =\ timeSupport.\doxymbox{\hyperlink{classansys_1_1dpf_1_1TimeFreqSupport_a87c577de73b5ba2260cf3f940ac43068}{numberOfSets}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_TRUE(numSets\ ==\ 48);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ numberSteps\ =\ timeSupport.\doxymbox{\hyperlink{classansys_1_1dpf_1_1TimeFreqSupport_a6b3cc037c0283450ac0234dadeddd1b6}{numberOfSteps}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{namespaceansys_1_1dpf_a60d181a1f9d29cc7cc38b25dac4401f0}{ansys::dpf::dp\_int}}\ size;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1Field}{ansys::dpf::Field}}\ freqs\ =\ timeSupport.\doxymbox{\hyperlink{classansys_1_1dpf_1_1TimeFreqSupport_aa0cf046a80d328f966892abe85308f01}{frequencies}}();}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ data\ =\ freqs.\doxymbox{\hyperlink{classansys_1_1dpf_1_1Field_a0967a8c6cee105a679dd1151a5d41004}{data}}(size);}
\DoxyCodeLine{\ \ \ \ EXPECT\_TRUE(data\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(size,\ 48);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1Field}{ansys::dpf::Field}}\ hi\ =\ timeSupport.\doxymbox{\hyperlink{classansys_1_1dpf_1_1TimeFreqSupport_a101268a027373331f52244f52eb8b0d1}{harmonicIndeces}}();}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ hi\_data\ =\ hi.\doxymbox{\hyperlink{classansys_1_1dpf_1_1Field_a0967a8c6cee105a679dd1151a5d41004}{data}}(size);}
\DoxyCodeLine{\ \ \ \ EXPECT\_TRUE(hi\_data\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(size,\ 48);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ i\ =\ 0,\ offset\ =\ 0;\ i\ <\ numberSteps;\ ++i)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ numSubSteps\ =\ timeSupport.\doxymbox{\hyperlink{classansys_1_1dpf_1_1TimeFreqSupport_a4333cdbfac1c49f802a9c33a18970ed5}{numberOfSubStepsByStepIndex}}(i);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ EXPECT\_TRUE(numSubSteps\ ==\ 6);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ j\ =\ 0;\ j\ <\ numSubSteps;\ ++j,\ ++offset)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ iSet\ =\ timeSupport.\doxymbox{\hyperlink{classansys_1_1dpf_1_1TimeFreqSupport_a018ae91fba33d3a61360c659a3fa49c8}{getSetIndexByStepIndexAndSubStep}}(i,\ j);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ EXPECT\_EQ(iSet,\ i\ *\ 6\ +\ j);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ freq\ =\ timeSupport.\doxymbox{\hyperlink{classansys_1_1dpf_1_1TimeFreqSupport_a15d6bc620aadd070c1bb027a075ce0cd}{timeFreq}}(iSet);\ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ EXPECT\_DOUBLE\_EQ(freq,\ data[offset]);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ EXPECT\_DOUBLE\_EQ(i,\ fabs(hi\_data[offset]));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{TEST(Model,\ readNamedSelections)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ std::string\ fileName(\textcolor{stringliteral}{"{}../../../testfiles/mapdl\_files/TwoSolids.rst"{}});}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1Model}{ansys::dpf::Model}}\ model(fileName);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion}{ansys::dpf::MeshedRegion}}\ mesh\ =\ model.getMesh();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ vNamedSelections\ =\ mesh.\doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion_a3b768ab61193b7b1a6359f4ac619d1c4}{availableNamedSelections}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(vNamedSelections.size(),\ 1);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ EXPECT\_STREQ(\textcolor{stringliteral}{"{}\_FIXEDSU"{}},\ vNamedSelections[0].c\_str());}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1Scoping}{ansys::dpf::Scoping}}\ scoping\ =\ mesh.\doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion_a1f12d06a08e8afe8fe59c0a8d6aee779}{namedSelection}}(vNamedSelections[0]);}
\DoxyCodeLine{\ \ \ \ EXPECT\_STREQ(\textcolor{stringliteral}{"{}Nodal"{}},\ scoping.\doxymbox{\hyperlink{classansys_1_1dpf_1_1Scoping_a516b4489a94ff02ecc880f170b8f93a9}{location}}().\doxymbox{\hyperlink{structansys_1_1dpf_1_1Location_ad9fab192124627740ffa623b1a0221ea}{c\_str}}());}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(scoping.\doxymbox{\hyperlink{classansys_1_1dpf_1_1Scoping_aeae5e27bd752bdf0da3cc2d64fbe118a}{size}}(),\ 30);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{TEST(Model,\ CreateResultEvaluationWorkflowInclusive)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ std::string\ fileName(\textcolor{stringliteral}{"{}../../../testfiles/Cube.rst"{}});}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1Model}{ansys::dpf::Model}}\ model(fileName);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion}{ansys::dpf::MeshedRegion}}\ mesh\ =\ model.getMesh();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ numEle\ =\ mesh.\doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion_ac3a262bc236fda82374a462d7c9e240c}{numberOfElements}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(numEle,\ 8);}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ numNodes\ =\ mesh.\doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion_af8ad6b50708b2c201a457c5da8e819da}{numberOfNodes}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(numNodes,\ 27);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1Field}{ansys::dpf::Field}}\ fieldCoord\ =\ mesh.\doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion_a482ae171f257bfe86c8e567f0882caa4}{nodesCoordinates}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(fieldCoord.\doxymbox{\hyperlink{classansys_1_1dpf_1_1Field_a9bb7ac154ee6720cbb98b1c09e056942}{dataSize}}(),\ 27\ *\ 3);}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1PropertyField}{ansys::dpf::PropertyField}}\ elementsConnectivity\ =\ mesh.\doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion_a2c75723ffc634c39b081eecd31d54309}{connectivity}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(elementsConnectivity.\doxymbox{\hyperlink{classansys_1_1dpf_1_1PropertyField_af0ff358222e067e0c03d588a6b11b04c}{dataSize}}(),\ 64);}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1TimeFreqSupport}{ansys::dpf::TimeFreqSupport}}\ timeSupport\ =\ model.getTimeFreqSupport();}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ numSets\ =\ timeSupport.\doxymbox{\hyperlink{classansys_1_1dpf_1_1TimeFreqSupport_a87c577de73b5ba2260cf3f940ac43068}{numberOfSets}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(numSets,\ 1);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ vNamedSelections\ =\ mesh.\doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion_a3b768ab61193b7b1a6359f4ac619d1c4}{availableNamedSelections}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(vNamedSelections.size(),\ 3);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo}{ansys::dpf::ResultInfo}}\ resultInfo\ =\ model.getResultInfo();}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ numRes\ =\ resultInfo.\doxymbox{\hyperlink{classansys_1_1dpf_1_1ResultInfo_a69427d3a5823aa23acfc59b891fa662a}{numberOfResults}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(numRes,\ 15);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1Result}{ansys::dpf::Result}}\ result\ =\ model.CreateResultEvaluationWorkflow(\textcolor{stringliteral}{"{}SX"{}},\ \textcolor{stringliteral}{"{}TOP"{}},\ \doxymbox{\hyperlink{structansys_1_1dpf_1_1locations_a3f66169a86ab935fb398b3fdde98bb04}{ansys::dpf::locations::elemental}},\ \textcolor{keyword}{false});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1DpfError}{ansys::dpf::DpfError}}\ error;}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1FieldsContainer}{ansys::dpf::FieldsContainer}}\ fieldsContainer\ =\ result.\doxymbox{\hyperlink{classansys_1_1dpf_1_1Result_ac8e07e03eba295dacfe13a100603d5c4}{EvaluateAtGivenTime}}(0.0,\ error);}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(fieldsContainer.size(),\ 1);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{TEST(Model,\ ReleaseHandles)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ std::string\ fileName(\textcolor{stringliteral}{"{}../../../testfiles/mapdl\_files/TwoSolids.rst"{}});}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1Model}{ansys::dpf::Model}}\ model(fileName);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion}{ansys::dpf::MeshedRegion}}\ mesh\ =\ model.getMesh();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ numEle\ =\ mesh.\doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion_ac3a262bc236fda82374a462d7c9e240c}{numberOfElements}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_TRUE(numEle\ ==\ 165);}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ numNodes\ =\ mesh.\doxymbox{\hyperlink{classansys_1_1dpf_1_1MeshedRegion_af8ad6b50708b2c201a457c5da8e819da}{numberOfNodes}}();}
\DoxyCodeLine{\ \ \ \ EXPECT\_TRUE(numNodes\ ==\ 344);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ release\ handles}}
\DoxyCodeLine{\ \ \ \ model.ReleaseHandles();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ We\ can\ then\ go\ ahead\ and\ continue\ reading}}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{classansys_1_1dpf_1_1TimeFreqSupport}{ansys::dpf::TimeFreqSupport}}\ timeSupport\ =\ model.getTimeFreqSupport();}
\DoxyCodeLine{\}}

\end{DoxyCodeInclude}
 