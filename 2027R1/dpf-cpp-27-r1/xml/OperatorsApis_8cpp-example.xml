<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.16.1" xml:lang="en-US">
  <compounddef id="OperatorsApis_8cpp-example" kind="example">
    <compoundname>OperatorsApis.cpp</compoundname>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para>Examples showing how to use the DPF operators to compute the data. <programlisting filename="OperatorsApis.cpp"><codeline><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>COPYRIGHT<sp/>ANSYS.<sp/>ALL<sp/>RIGHTS<sp/>RESERVED.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;dpf_api.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;limits&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>warning<sp/>(disable<sp/>:<sp/>4189)<sp/></highlight><highlight class="comment">//local<sp/>variable<sp/>is<sp/>initialized<sp/>but<sp/>not<sp/>referenced</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>EXAMPLE</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;Example.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;gtest/gtest.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(Operator,<sp/>ImportAndReadData)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Those<sp/>operators<sp/>allow<sp/>to<sp/>read<sp/>data<sp/>from<sp/>solver<sp/>files<sp/>or<sp/>from<sp/>standard<sp/>file<sp/>types.<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Different<sp/>solver<sp/>format<sp/>are<sp/>handled<sp/>by<sp/>DPF<sp/>like<sp/>rst/mode/rfrq/rdsp..<sp/>for<sp/>MAPDL,<sp/>d3plot<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>for<sp/>LsDyna,<sp/>cas.h5/dat.h5/res/flprj<sp/>for<sp/>CFX<sp/>and<sp/>Fluent,<sp/>odb<sp/>for<sp/>Abaqus...<sp/>To<sp/>read<sp/>those,<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>different<sp/>readers<sp/>have<sp/>been<sp/>implemented<sp/>in<sp/>plugins.<sp/>Plugins<sp/>can<sp/>be<sp/>loaded<sp/>on<sp/>demand<sp/>in<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>any<sp/>dpf&apos;s<sp/>scripting<sp/>language<sp/>with<sp/>the<sp/>&quot;load<sp/>library&quot;<sp/>methods.<sp/>File<sp/>readers<sp/>can<sp/>be<sp/>used<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>generically<sp/>thanks<sp/>to<sp/>dpf&apos;s<sp/>result<sp/>providers,<sp/>which<sp/>means<sp/>that<sp/>the<sp/>same<sp/>operators<sp/>can<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>be<sp/>used<sp/>for<sp/>any<sp/>file<sp/>types.<sp/>For<sp/>example,<sp/>reading<sp/>a<sp/>displacement<sp/>or<sp/>a<sp/>stress<sp/>for<sp/>any<sp/>files<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>will<sp/>be<sp/>done<sp/>with<sp/>the<sp/>following<sp/>code.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>the<sp/>result<sp/>file<sp/>path<sp/>to<sp/>the<sp/>right<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>fileName(</highlight><highlight class="stringliteral">&quot;../../../testfiles/mapdl_files/TwoSolids.rst&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1DataSources" kindref="compound">ansys::dpf::DataSources</ref><sp/>my_data_sources;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_data_sources.<ref refid="classansys_1_1dpf_1_1DataSources_1ad2a5bb6f24ca621ffaaee9e7a47cdc20" kindref="member">addResultFile</ref>(fileName);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//displacement<sp/>for<sp/>any<sp/>solver<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref><sp/>u_op(</highlight><highlight class="stringliteral">&quot;U&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>u_op.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1a5b6613f802062fde4faea4b553db7fbc" kindref="member">ansys::dpf::eDataSourcesPin</ref>,<sp/>my_data_sources);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1FieldsContainer" kindref="compound">ansys::dpf::FieldsContainer</ref><sp/>my_u<sp/>=<sp/>u_op.getOutputFieldsContainer(0);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//stress<sp/>for<sp/>any<sp/>solver<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref><sp/>s_op(</highlight><highlight class="stringliteral">&quot;S&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>s_op.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1a5b6613f802062fde4faea4b553db7fbc" kindref="member">ansys::dpf::eDataSourcesPin</ref>,<sp/>my_data_sources);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1FieldsContainer" kindref="compound">ansys::dpf::FieldsContainer</ref><sp/>my_s<sp/>=<sp/>s_op.getOutputFieldsContainer(0);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(Operator,<sp/>ImportAndReadDataCustom)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Result<sp/>providers<sp/>can<sp/>be<sp/>customized<sp/>to<sp/>read<sp/>a<sp/>specific<sp/>time<sp/>frequency<sp/>or<sp/>to<sp/>provide<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>results<sp/>on<sp/>a<sp/>subset<sp/>of<sp/>the<sp/>mesh.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>the<sp/>result<sp/>file<sp/>path<sp/>to<sp/>the<sp/>right<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>fileName(</highlight><highlight class="stringliteral">&quot;../../../testfiles/mapdl_files/TwoSolids.rst&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1DataSources" kindref="compound">ansys::dpf::DataSources</ref><sp/>my_data_sources;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_data_sources.<ref refid="classansys_1_1dpf_1_1DataSources_1ad2a5bb6f24ca621ffaaee9e7a47cdc20" kindref="member">addResultFile</ref>(fileName);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//displacement<sp/>for<sp/>any<sp/>solver<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref><sp/>u_op(</highlight><highlight class="stringliteral">&quot;U&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>u_op.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1a5b6613f802062fde4faea4b553db7fbc" kindref="member">ansys::dpf::eDataSourcesPin</ref>,<sp/>my_data_sources);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Different<sp/>ways<sp/>to<sp/>set<sp/>the<sp/>time<sp/>scoping</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Select<sp/>one<sp/>time/frequency</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>u_op.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1ac390a52dd8c4f1e8ff81a162cdc04d4f" kindref="member">ansys::dpf::eTimeScopPin</ref>,<sp/>2);<sp/></highlight><highlight class="comment">//<sp/>Int<sp/>:<sp/>Select<sp/>second<sp/>time/freq<sp/>set<sp/>in<sp/>the<sp/>time<sp/>freq<sp/>support</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>u_op.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1ac390a52dd8c4f1e8ff81a162cdc04d4f" kindref="member">ansys::dpf::eTimeScopPin</ref>,<sp/>0.002);<sp/></highlight><highlight class="comment">//<sp/>Double<sp/>:<sp/>Gives<sp/>a<sp/>field<sp/>interpolated<sp/>at<sp/>the<sp/>given<sp/>time/freq<sp/>value</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Select<sp/>multiple<sp/>times/frequencies<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;int&gt;<sp/>time_sets<sp/>=<sp/>{<sp/>1,2,3<sp/>};</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>u_op.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1ac390a52dd8c4f1e8ff81a162cdc04d4f" kindref="member">ansys::dpf::eTimeScopPin</ref>,<sp/>time_sets);<sp/></highlight><highlight class="comment">//<sp/>Vec<sp/>Int:<sp/>Select<sp/>time/freq<sp/>sets<sp/>in<sp/>the<sp/>time<sp/>freq<sp/>support</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/>times<sp/>=<sp/>{<sp/>0.002,<sp/>0.003<sp/>};</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>u_op.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1ac390a52dd8c4f1e8ff81a162cdc04d4f" kindref="member">ansys::dpf::eTimeScopPin</ref>,<sp/>times);<sp/></highlight><highlight class="comment">//<sp/>Vec<sp/>Double<sp/>:<sp/>Gives<sp/>fields<sp/>interpolated<sp/>at<sp/>the<sp/>given<sp/>time/freq<sp/>values</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Select<sp/>all<sp/>the<sp/>time/frequencies<sp/>of<sp/>a<sp/>load<sp/>step</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Scoping" kindref="compound">ansys::dpf::Scoping</ref><sp/>load_step({<sp/>2<sp/>},<sp/><ref refid="structansys_1_1dpf_1_1locations_1abc48364ef6b184ddf696099c9a2993cd" kindref="member">ansys::dpf::locations::time_step</ref>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>u_op.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1ac390a52dd8c4f1e8ff81a162cdc04d4f" kindref="member">ansys::dpf::eTimeScopPin</ref>,<sp/>load_step);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Scoping" kindref="compound">ansys::dpf::Scoping</ref><sp/>node_scoping({<sp/>1,2,3<sp/>},<sp/><ref refid="structansys_1_1dpf_1_1locations_1aa4e1967b0838d8597200c606c8564d29" kindref="member">ansys::dpf::locations::nodal</ref>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>u_op.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1a79a70f074b2f79ccaff75ae8e4ec9ec9" kindref="member">ansys::dpf::eMeshScopPin</ref>,<sp/>node_scoping);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Scoping" kindref="compound">ansys::dpf::Scoping</ref><sp/>element_scoping({<sp/>1,2,3<sp/>},<sp/><ref refid="structansys_1_1dpf_1_1locations_1a3f66169a86ab935fb398b3fdde98bb04" kindref="member">ansys::dpf::locations::elemental</ref>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>u_op.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1a79a70f074b2f79ccaff75ae8e4ec9ec9" kindref="member">ansys::dpf::eMeshScopPin</ref>,<sp/>element_scoping);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>uncomment<sp/>this<sp/>line<sp/>to<sp/>compute<sp/>the<sp/>fields<sp/>container.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>this<sp/>requires<sp/>a<sp/>license.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ansys::dpf::FieldsContainer<sp/>my_u<sp/>=<sp/>u_op.getOutputFieldsContainer(0);;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(Operator,<sp/>ReadExportedData)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Standards<sp/>file<sp/>formats<sp/>reader<sp/>are<sp/>also<sp/>supported<sp/>to<sp/>import<sp/>custom<sp/>data.<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Fields<sp/>can<sp/>be<sp/>imported<sp/>from<sp/>csv,<sp/>vtk<sp/>or<sp/>hdf5<sp/>files</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>my_path<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;c:/temp/file.csv&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1DataSources" kindref="compound">ansys::dpf::DataSources</ref><sp/>my_data_sources;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_data_sources.<ref refid="classansys_1_1dpf_1_1DataSources_1ad2a5bb6f24ca621ffaaee9e7a47cdc20" kindref="member">addResultFile</ref>(my_path);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref><sp/>csv(</highlight><highlight class="stringliteral">&quot;csv_to_field&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>csv.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1a5b6613f802062fde4faea4b553db7fbc" kindref="member">ansys::dpf::eDataSourcesPin</ref>,<sp/>my_data_sources);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>uncomment<sp/>this<sp/>line<sp/>to<sp/>compute<sp/>the<sp/>fields<sp/>container.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>this<sp/>requires<sp/>a<sp/>license.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ansys::dpf::FieldsContainer<sp/>my_fields<sp/>=<sp/>csv.getOutputFieldsContainer(0);</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(Operator,<sp/>TransformingExistingData)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>field<sp/>being<sp/>the<sp/>main<sp/>data<sp/>container<sp/>in<sp/>DPF,<sp/>most<sp/>of<sp/>the<sp/>operator<sp/>transforming<sp/>the<sp/>data<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>take<sp/>a<sp/>field<sp/>or<sp/>fields<sp/>container<sp/>as<sp/>input<sp/>and<sp/>return<sp/>a<sp/>transformed<sp/>field<sp/>or<sp/>fields<sp/>container<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>output.<sp/>Analytic,<sp/>averaging<sp/>or<sp/>filtering<sp/>operations<sp/>can<sp/>be<sp/>performed<sp/>on<sp/>the<sp/>simulation<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>field1(3,<sp/>{<sp/>3<sp/>},<sp/><ref refid="structansys_1_1dpf_1_1locations_1aa4e1967b0838d8597200c606c8564d29" kindref="member">ansys::dpf::locations::nodal</ref>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>field1.<ref refid="classansys_1_1dpf_1_1Field_1a9f7828d92496843cc5f15ee9e32f6c4a" kindref="member">setData</ref>({<sp/>1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>field1.scoping().setIds({<sp/>1,2,3<sp/>});</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>using<sp/>analytic<sp/>operator:<sp/>scale<sp/>operator</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref><sp/>op1(</highlight><highlight class="stringliteral">&quot;scale&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>op1.connect(0,<sp/>field1);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>op1.connect(1,<sp/>2.0);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>out<sp/>=<sp/>op1.getOutputField(0);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>size<sp/>=<sp/>0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceansys_1_1dpf_1acb480013bfed185b5e34a0bdcb0e3790" kindref="member">ansys::dpf::dp_double</ref>*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>data<sp/>=<sp/>out.<ref refid="classansys_1_1dpf_1_1Field_1a0967a8c6cee105a679dd1151a5d41004" kindref="member">data</ref>(size);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>returns:</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{<sp/>2.,<sp/><sp/>4.,<sp/><sp/>6.,<sp/>8.,<sp/>10.,<sp/>12.,<sp/>14.,<sp/>16.,<sp/>18.}</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(Operator,<sp/>ExportingData)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>After<sp/>transforming<sp/>or<sp/>reading<sp/>simulation<sp/>data<sp/>with<sp/>DPF,<sp/>the<sp/>user<sp/>might<sp/>want<sp/>to<sp/>export<sp/>the<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>results<sp/>in<sp/>a<sp/>given<sp/>format<sp/>to<sp/>use<sp/>it<sp/>in<sp/>another<sp/>environment<sp/>or<sp/>to<sp/>save<sp/>it<sp/>for<sp/>future<sp/>use<sp/>with<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>dpf.<sp/>Vtk,<sp/>h5,<sp/>csv<sp/>and<sp/>txt<sp/>(serializer<sp/>operator)<sp/>are<sp/>examples<sp/>of<sp/>supported<sp/>exports.<sp/>Export<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>operators<sp/>often<sp/>match<sp/>with<sp/>import<sp/>operators<sp/>allowing<sp/>user<sp/>to<sp/>reuse<sp/>their<sp/>data.<sp/>The<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>&quot;serialization&quot;<sp/>operators<sp/>menu<sp/>lists<sp/>the<sp/>available<sp/>import/export<sp/>operators.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>the<sp/>result<sp/>file<sp/>path<sp/>to<sp/>the<sp/>right<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>fileName(</highlight><highlight class="stringliteral">&quot;../../../testfiles/mapdl_files/TwoSolids.rst&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1DataSources" kindref="compound">ansys::dpf::DataSources</ref><sp/>my_data_sources;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_data_sources.<ref refid="classansys_1_1dpf_1_1DataSources_1ad2a5bb6f24ca621ffaaee9e7a47cdc20" kindref="member">addResultFile</ref>(fileName);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//displacement<sp/>for<sp/>any<sp/>solver<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref><sp/>u_op(</highlight><highlight class="stringliteral">&quot;U&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>u_op.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1a5b6613f802062fde4faea4b553db7fbc" kindref="member">ansys::dpf::eDataSourcesPin</ref>,<sp/>my_data_sources);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1FieldsContainer" kindref="compound">ansys::dpf::FieldsContainer</ref><sp/>my_fields<sp/>=<sp/>u_op.getOutputFieldsContainer(0);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//scale<sp/>it<sp/>by<sp/>2.0</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref><sp/>my_scale_op(</highlight><highlight class="stringliteral">&quot;scale_fc&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_scale_op.connect(0,<sp/>my_fields);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_scale_op.connect(1,<sp/>2.0);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//get<sp/>the<sp/>mesh</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref><sp/>my_mesh_op(</highlight><highlight class="stringliteral">&quot;MeshProvider&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_mesh_op.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1a5b6613f802062fde4faea4b553db7fbc" kindref="member">ansys::dpf::eDataSourcesPin</ref>,<sp/>my_data_sources);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>export<sp/>the<sp/>result<sp/>in<sp/>vtk</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>uncomment<sp/>the<sp/>following<sp/>code<sp/>to<sp/>enable<sp/>the<sp/>export<sp/>operations</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>this<sp/>requires<sp/>a<sp/>license.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//ansys::dpf::Operator<sp/>my_export(&quot;vtk_export&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//my_export.connect(0,<sp/>std::string(&quot;C:/temp/fileNew.vtk&quot;));</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//my_export.connect(1,<sp/>my_mesh_op,<sp/>0);</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//my_export.connect(2,<sp/>my_scale_op,<sp/>0);</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>my_export.run();</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(Operator,<sp/>ChainingOperators)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>To<sp/>create<sp/>more<sp/>complex<sp/>operations<sp/>and<sp/>customizable<sp/>results,<sp/>operators<sp/>can<sp/>be<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>chained<sp/>together<sp/>to<sp/>create<sp/>workflows.<sp/>This<sp/>way<sp/>a<sp/>result<sp/>can<sp/>be<sp/>read<sp/>from<sp/>a<sp/>solver<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>result<sp/>file<sp/>and<sp/>directly<sp/>transformed<sp/>in<sp/>a<sp/>single<sp/>workflow.<sp/>Examples<sp/>can<sp/>be<sp/>found<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>APIs/Workflow<sp/>examples<sp/>menu.<sp/>2<sp/>syntaxes<sp/>can<sp/>be<sp/>used<sp/>to<sp/>create<sp/>and<sp/>connect<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>operators<sp/>together.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>the<sp/>result<sp/>file<sp/>path<sp/>to<sp/>the<sp/>right<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>fileName(</highlight><highlight class="stringliteral">&quot;../../../testfiles/mapdl_files/TwoSolids.rst&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1DataSources" kindref="compound">ansys::dpf::DataSources</ref><sp/>my_data_sources;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_data_sources.<ref refid="classansys_1_1dpf_1_1DataSources_1ad2a5bb6f24ca621ffaaee9e7a47cdc20" kindref="member">addResultFile</ref>(fileName);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref><sp/>u_op(</highlight><highlight class="stringliteral">&quot;U&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>u_op.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1a5b6613f802062fde4faea4b553db7fbc" kindref="member">ansys::dpf::eDataSourcesPin</ref>,<sp/>my_data_sources);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref><sp/>norm_op(</highlight><highlight class="stringliteral">&quot;norm_fc&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>norm_op.connect(0,<sp/>u_op,<sp/>0);<sp/></highlight><highlight class="comment">//connect<sp/>norm_op<sp/>input<sp/>pin<sp/>0<sp/>to<sp/>u_op<sp/>output<sp/>pin<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1FieldsContainer" kindref="compound">ansys::dpf::FieldsContainer</ref><sp/>my_u_norm<sp/>=<sp/>norm_op.getOutputFieldsContainer(0);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(Operator,<sp/>UsingConfigurations)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Advanced<sp/>user<sp/>might<sp/>want<sp/>to<sp/>configurate<sp/>an<sp/>operator&apos;s<sp/>behavior<sp/>during<sp/>its<sp/>running<sp/>phase.<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>can<sp/>be<sp/>done<sp/>through<sp/>the<sp/>&quot;config&quot;.<sp/>This<sp/>option<sp/>allows<sp/>to<sp/>choose<sp/>if<sp/>an<sp/>operator<sp/>can<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>directly<sp/>modify<sp/>the<sp/>input<sp/>data<sp/>container<sp/>instead<sp/>of<sp/>creating<sp/>a<sp/>new<sp/>one<sp/>with<sp/>the<sp/>&quot;inplace&quot;<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>configuration,<sp/>to<sp/>choose<sp/>if<sp/>an<sp/>operation<sp/>between<sp/>to<sp/>fields<sp/>should<sp/>use<sp/>their<sp/>indices<sp/>or<sp/>mesh<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ids<sp/>with<sp/>the<sp/>&quot;work_by_index&quot;<sp/>configuration...<sp/>Each<sp/>operator&apos;s<sp/>description<sp/>explains<sp/>which<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>configuration<sp/>are<sp/>supported.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>field1(3,<sp/>{<sp/>3<sp/>},<sp/><ref refid="structansys_1_1dpf_1_1locations_1aa4e1967b0838d8597200c606c8564d29" kindref="member">ansys::dpf::locations::nodal</ref>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>field1.<ref refid="classansys_1_1dpf_1_1Field_1a9f7828d92496843cc5f15ee9e32f6c4a" kindref="member">setData</ref>({<sp/>1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>field1.scoping().setIds({<sp/>1,2,3<sp/>});</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>field2(3,<sp/>{<sp/>3<sp/>},<sp/><ref refid="structansys_1_1dpf_1_1locations_1aa4e1967b0838d8597200c606c8564d29" kindref="member">ansys::dpf::locations::nodal</ref>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>field2.<ref refid="classansys_1_1dpf_1_1Field_1a9f7828d92496843cc5f15ee9e32f6c4a" kindref="member">setData</ref>({<sp/>1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>field2.scoping().setIds({<sp/>3,4,5<sp/>});</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1OperatorConfig" kindref="compound">ansys::dpf::OperatorConfig</ref><sp/>config<sp/>=<sp/><ref refid="classansys_1_1dpf_1_1core_1a20f37512490ec6131335f52be7f2f28d" kindref="member">ansys::dpf::core::defaultOperatorConfig</ref>(</highlight><highlight class="stringliteral">&quot;add&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>current_value<sp/>=<sp/>config.<ref refid="classansys_1_1dpf_1_1OperatorConfig_1a3948249196192234ee24269ba8e994b7" kindref="member">getBoolValue</ref>(</highlight><highlight class="stringliteral">&quot;work_by_index&quot;</highlight><highlight class="normal">);</highlight><highlight class="comment">//returns<sp/>current<sp/>values<sp/>of<sp/>configuration</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//modify<sp/>work_by_index<sp/>config<sp/>(default<sp/>is<sp/>false)</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>config.<ref refid="classansys_1_1dpf_1_1OperatorConfig_1a13fa51659fa378a6f67b344bbb9ea1be" kindref="member">set</ref>(</highlight><highlight class="stringliteral">&quot;work_by_index&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//instantiate<sp/>the<sp/>operator<sp/>with<sp/>the<sp/>config</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref><sp/>op1(</highlight><highlight class="stringliteral">&quot;add&quot;</highlight><highlight class="normal">,<sp/>config);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>op1.connect(0,<sp/>field1);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>op1.connect(1,<sp/>field2);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>out<sp/>=<sp/>op1.getOutputField(0);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>size<sp/>=<sp/>0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceansys_1_1dpf_1acb480013bfed185b5e34a0bdcb0e3790" kindref="member">ansys::dpf::dp_double</ref>*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>data<sp/>=<sp/>out.<ref refid="classansys_1_1dpf_1_1Field_1a0967a8c6cee105a679dd1151a5d41004" kindref="member">data</ref>(size);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>returns:</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{<sp/>2.,<sp/><sp/>4.,<sp/><sp/>6.,<sp/>8.,<sp/>10.,<sp/>12.,<sp/>14.,<sp/>16.,<sp/>18.}</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//use<sp/>default<sp/>config<sp/>value</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>config.<ref refid="classansys_1_1dpf_1_1OperatorConfig_1a13fa51659fa378a6f67b344bbb9ea1be" kindref="member">set</ref>(</highlight><highlight class="stringliteral">&quot;work_by_index&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>op1<sp/>=<sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref>(</highlight><highlight class="stringliteral">&quot;add&quot;</highlight><highlight class="normal">,<sp/>config);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>op1.connect(0,<sp/>field1);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>op1.connect(1,<sp/>field2);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>out<sp/>=<sp/>op1.getOutputField(0);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceansys_1_1dpf_1acb480013bfed185b5e34a0bdcb0e3790" kindref="member">ansys::dpf::dp_double</ref>*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>data2<sp/>=<sp/>out.<ref refid="classansys_1_1dpf_1_1Field_1a0967a8c6cee105a679dd1151a5d41004" kindref="member">data</ref>(size);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>returns:</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{<sp/>1.,<sp/><sp/>2.,<sp/><sp/>3.,<sp/>4.,<sp/><sp/>5.,<sp/><sp/>6.,<sp/>8.,<sp/>10.,<sp/>12.,<sp/>4.,<sp/><sp/>5.,<sp/><sp/>6.,<sp/>7.,<sp/><sp/>8.,<sp/><sp/>9.}</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>changing<sp/>the<sp/>&quot;permissive&quot;<sp/>config<sp/>could<sp/>allow<sp/>to<sp/>add<sp/>fields<sp/>of<sp/>different<sp/>homogeneities</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>changing<sp/>the<sp/>&quot;binary_operation&quot;<sp/>config<sp/>could<sp/>allow<sp/>to<sp/>keep<sp/>only<sp/>the<sp/>intersection<sp/>between<sp/>fields<sp/>ids<sp/>and<sp/>not<sp/>the<sp/>union</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//...</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
</programlisting> </para>
    </detaileddescription>
    <location file="dpf_api.h"/>
  </compounddef>
</doxygen>
