<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.16.1" xml:lang="en-US">
  <compounddef id="DataApis_8cpp-example" kind="example">
    <compoundname>DataApis.cpp</compoundname>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para>Examples showing how to use the DPF base class APIs. <programlisting filename="DataApis.cpp"><codeline><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>COPYRIGHT<sp/>ANSYS.<sp/>ALL<sp/>RIGHTS<sp/>RESERVED.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;dpf_api.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;helpers/dpf_result.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;helpers/dpf_model.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;limits&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>warning<sp/>(disable<sp/>:<sp/>4189)<sp/></highlight><highlight class="comment">//local<sp/>variable<sp/>is<sp/>initialized<sp/>but<sp/>not<sp/>referenced</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>EXAMPLE</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;Example.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;gtest/gtest.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(Scoping,<sp/>Create_GetData)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>Scoping<sp/>is<sp/>a<sp/>set<sp/>of<sp/>entity<sp/>IDs<sp/>defined<sp/>on<sp/>a<sp/>location<sp/>(the<sp/>location<sp/>is<sp/>optional).</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Scoping" kindref="compound">ansys::dpf::Scoping</ref><sp/>my_scoping;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_scoping.<ref refid="classansys_1_1dpf_1_1Scoping_1abfc7b7b2376db292a67d05e9b7828367" kindref="member">setLocation</ref>(<ref refid="structansys_1_1dpf_1_1locations_1aa4e1967b0838d8597200c606c8564d29" kindref="member">ansys::dpf::locations::nodal</ref>);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>1/<sp/>entity<sp/>by<sp/>entity</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_scoping.<ref refid="classansys_1_1dpf_1_1Scoping_1a94f0dd35d07efdc472ef072b42f9cfda" kindref="member">emplace</ref>(0,<sp/>1);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_scoping.<ref refid="classansys_1_1dpf_1_1Scoping_1a94f0dd35d07efdc472ef072b42f9cfda" kindref="member">emplace</ref>(1,<sp/>2);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_scoping.<ref refid="classansys_1_1dpf_1_1Scoping_1a94f0dd35d07efdc472ef072b42f9cfda" kindref="member">emplace</ref>(2,<sp/>3);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>2/<sp/>or<sp/>the<sp/>entire<sp/>vector<sp/>of<sp/>ids</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;int&gt;<sp/>my_ids<sp/>=<sp/>{<sp/>1,2,3<sp/>};</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_scoping.<ref refid="classansys_1_1dpf_1_1Scoping_1a021a022f87287b786ff9b3c92deb0e69" kindref="member">setIds</ref>(my_ids);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>or</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_scoping.<ref refid="classansys_1_1dpf_1_1Scoping_1a021a022f87287b786ff9b3c92deb0e69" kindref="member">setIds</ref>(my_ids.data(),<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)my_ids.size());</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>Data</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structansys_1_1dpf_1_1Location" kindref="compound">ansys::dpf::Location</ref><sp/>my_loc<sp/>=<sp/>my_scoping.<ref refid="classansys_1_1dpf_1_1Scoping_1a516b4489a94ff02ecc880f170b8f93a9" kindref="member">location</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;int&gt;<sp/>my_ids_out;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_scoping.<ref refid="classansys_1_1dpf_1_1Scoping_1a7377823a48ee69e439a8589627c5e6c0" kindref="member">getIds</ref>(my_ids_out);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>size<sp/>=<sp/>0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>ids<sp/>=<sp/>my_scoping.<ref refid="classansys_1_1dpf_1_1Scoping_1acf26749e29d9f23de6c70806ccfaea6b" kindref="member">ids</ref>(size);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>or<sp/>entity<sp/>by<sp/>entity</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal"><sp/>=<sp/>my_scoping.<ref refid="classansys_1_1dpf_1_1Scoping_1ae35e47f2cceccf7ad9ed4590bd10ff89" kindref="member">idByIndex</ref>(0);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>index<sp/>=<sp/>my_scoping.<ref refid="classansys_1_1dpf_1_1Scoping_1ab80b20d56d63ce48c08ce6b7428e06c2" kindref="member">indexById</ref>(1);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(DataSources,<sp/>Create)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Data<sp/>Sources<sp/>is<sp/>the<sp/>entity<sp/>containing<sp/>the<sp/>different<sp/>path<sp/>to<sp/>the<sp/>result<sp/>files<sp/>of<sp/>an<sp/>analysis.<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>An<sp/>extension<sp/>key<sp/>(&apos;rst&apos;<sp/>for<sp/>example)<sp/>is<sp/>used<sp/>to<sp/>choose<sp/>which<sp/>files<sp/>represent<sp/>results<sp/>files,<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>other<sp/>ones<sp/>being<sp/>accessory<sp/>files.<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1DataSources" kindref="compound">ansys::dpf::DataSources</ref><sp/>my_data_sources;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_data_sources.<ref refid="classansys_1_1dpf_1_1DataSources_1ad2a5bb6f24ca621ffaaee9e7a47cdc20" kindref="member">addResultFile</ref>(</highlight><highlight class="stringliteral">&quot;c:/temp/file.rst&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_data_sources.<ref refid="classansys_1_1dpf_1_1DataSources_1ad8d20dc94dee694a62fce66e91691090" kindref="member">addFile</ref>(</highlight><highlight class="stringliteral">&quot;c:/temp/ds.dat&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(Field,<sp/>Create)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>minimum<sp/>requirement<sp/>for<sp/>a<sp/>well<sp/>defined<sp/>Field<sp/>is<sp/>for<sp/>it<sp/>to<sp/>have<sp/>a<sp/>dimensionality<sp/>(scalar,<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>3<sp/>components<sp/>vector,<sp/>6<sp/>components<sp/>symmetrical<sp/>matrix.<sp/>and<sp/>so<sp/>on),<sp/>a<sp/>location(&quot;Nodal&quot;,<sp/>&quot;Elemental&quot;,<sp/>&quot;ElementalNodal&quot;,<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>&quot;Timefrq),<sp/>a<sp/>data<sp/>vector,<sp/>and<sp/>a<sp/>scoping<sp/>with<sp/>IDs.<sp/>You<sp/>can<sp/>also<sp/>set<sp/>the<sp/>number<sp/>of<sp/>shell<sp/>layers.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>field<sp/>has<sp/>one<sp/>elementary<sp/>data<sp/>by<sp/>entity<sp/>(elementary<sp/>data<sp/>size<sp/>=<sp/>number<sp/>of<sp/>components<sp/>for<sp/>&quot;Nodal&quot;<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>or<sp/>&quot;Elemental&quot;<sp/>field<sp/>for<sp/>example),<sp/>then<sp/>the<sp/>data<sp/>vector<sp/>can<sp/>be<sp/>set<sp/>directly.<sp/>If<sp/>a<sp/>more<sp/>complex<sp/>field<sp/>is<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>required<sp/>(&quot;ElementalNodal&quot;<sp/>Field<sp/>for<sp/>example),<sp/>the<sp/>data<sp/>can<sp/>be<sp/>set<sp/>entity<sp/>by<sp/>entity.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_entities<sp/>=<sp/>2;</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>for<sp/>the<sp/>most<sp/>common<sp/>dimensionalities</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>my_field(num_entities,<sp/>{<sp/>1<sp/>},<sp/><ref refid="structansys_1_1dpf_1_1locations_1aa4e1967b0838d8597200c606c8564d29" kindref="member">ansys::dpf::locations::nodal</ref>);<sp/></highlight><highlight class="comment">//nodal<sp/>scalar</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_field<sp/>=<sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref>(num_entities,<sp/>{<sp/>3<sp/>},<sp/><ref refid="structansys_1_1dpf_1_1locations_1a0bda534055805adc4c08bece34989ff3" kindref="member">ansys::dpf::locations::elemental_nodal</ref>);<sp/></highlight><highlight class="comment">//elemental<sp/>nodal<sp/>vector</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_field<sp/>=<sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref>(num_entities,<sp/>{<sp/>3,3<sp/>},<sp/><ref refid="structansys_1_1dpf_1_1locations_1a3f66169a86ab935fb398b3fdde98bb04" kindref="member">ansys::dpf::locations::elemental</ref>);<sp/></highlight><highlight class="comment">//elemental<sp/>sym<sp/>matrix</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>1/<sp/>fill<sp/>the<sp/>entire<sp/>Scoping<sp/>and<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/>my_data<sp/>=<sp/>{<sp/>1.0,<sp/>1.0,<sp/>1.0,<sp/>0.0,<sp/>0.0,<sp/>0.0,<sp/>2.3,<sp/>1.0,<sp/>1.0,<sp/>0.0,<sp/>0.0,<sp/>1.0<sp/>};</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_field.<ref refid="classansys_1_1dpf_1_1Field_1aa16920741c1432c16e46ec6da26b3f04" kindref="member">scoping</ref>().<ref refid="classansys_1_1dpf_1_1Scoping_1a021a022f87287b786ff9b3c92deb0e69" kindref="member">setIds</ref>({<sp/>5,22<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_field.<ref refid="classansys_1_1dpf_1_1Field_1a9f7828d92496843cc5f15ee9e32f6c4a" kindref="member">setData</ref>(my_data);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>2/<sp/>or<sp/>fill<sp/>entity<sp/>by<sp/>entity</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_field<sp/>=<sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref>(num_entities,<sp/>{<sp/>3,3<sp/>},<sp/><ref refid="structansys_1_1dpf_1_1locations_1a3f66169a86ab935fb398b3fdde98bb04" kindref="member">ansys::dpf::locations::elemental</ref>);<sp/></highlight><highlight class="comment">//elemental<sp/>sym<sp/>matrix</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>sym<sp/>matrix<sp/>are<sp/>defined<sp/>by<sp/>6<sp/>components<sp/>in<sp/>the<sp/>order<sp/>XX,<sp/>YY,<sp/>ZZ,<sp/>XY,<sp/>YZ,<sp/>XZ</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/>my_elem_data<sp/>=<sp/>{<sp/>1.0,<sp/>1.0,<sp/>1.0,<sp/>0.0,<sp/>0.0,<sp/>0.0<sp/>};</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_field.<ref refid="classansys_1_1dpf_1_1Field_1a5b717ed309ddf287134905f71ada833b" kindref="member">push_back</ref>(5,<sp/>my_elem_data);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;double&gt;<sp/>my_elem_data2<sp/>=<sp/>{<sp/>2.3,<sp/>1.0,<sp/>1.0,<sp/>0.0,<sp/>0.0,<sp/>1.0<sp/>};</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_field.<ref refid="classansys_1_1dpf_1_1Field_1a5b717ed309ddf287134905f71ada833b" kindref="member">push_back</ref>(22,<sp/>my_elem_data2);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//optional,<sp/>set<sp/>the<sp/>field&apos;s<sp/>unit</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1FieldDefinition" kindref="compound">ansys::dpf::FieldDefinition</ref><sp/>field_def<sp/>=<sp/>my_field.<ref refid="classansys_1_1dpf_1_1Field_1a860e65caa16f612746ad116429282fd3" kindref="member">fieldDefinition</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>field_def.<ref refid="classansys_1_1dpf_1_1FieldDefinition_1a8033b1d4486ea3d819ecbb6418bab079" kindref="member">setUnit</ref>(<ref refid="classansys_1_1dpf_1_1Unit" kindref="compound">ansys::dpf::Unit</ref>(</highlight><highlight class="stringliteral">&quot;m&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_field.<ref refid="classansys_1_1dpf_1_1Field_1a471c3f541458acc9c05dfb019a99abb3" kindref="member">setFieldDefinition</ref>(field_def);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>Data</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ncomp<sp/>=<sp/>my_field.<ref refid="classansys_1_1dpf_1_1Field_1a70f7cda2d633297489b91de6761fd625" kindref="member">numberOfComponents</ref>();<sp/></highlight><highlight class="comment">//returns<sp/>the<sp/>nuber<sp/>of<sp/>component<sp/>of<sp/>the<sp/>elementary<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structansys_1_1dpf_1_1Location" kindref="compound">ansys::dpf::Location</ref><sp/>loc<sp/>=<sp/>my_field.<ref refid="classansys_1_1dpf_1_1Field_1a860e65caa16f612746ad116429282fd3" kindref="member">fieldDefinition</ref>().<ref refid="classansys_1_1dpf_1_1FieldDefinition_1a9ea61f23ef1eb93c794b7c222d7740b8" kindref="member">location</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Unit" kindref="compound">ansys::dpf::Unit</ref><sp/>unit<sp/>=<sp/>my_field.<ref refid="classansys_1_1dpf_1_1Field_1a860e65caa16f612746ad116429282fd3" kindref="member">fieldDefinition</ref>().<ref refid="classansys_1_1dpf_1_1FieldDefinition_1aaf9c5c92a6d192207f01067950907af8" kindref="member">unit</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Scoping" kindref="compound">ansys::dpf::Scoping</ref><sp/>scoping<sp/>=<sp/>my_field.<ref refid="classansys_1_1dpf_1_1Field_1aa16920741c1432c16e46ec6da26b3f04" kindref="member">scoping</ref>();</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>size<sp/>=<sp/>0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">*<sp/>data<sp/>=<sp/>my_field.<ref refid="classansys_1_1dpf_1_1Field_1a0967a8c6cee105a679dd1151a5d41004" kindref="member">data</ref>(size);<sp/></highlight><highlight class="comment">//returns<sp/>the<sp/>ptr<sp/>to<sp/>the<sp/>full<sp/>list<sp/>of<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>entity_size<sp/>=<sp/>0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>index<sp/>=<sp/>1;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">*<sp/>data_by_index<sp/>=<sp/>my_field.<ref refid="classansys_1_1dpf_1_1Field_1a1312be4b895a62a391eb66865897d27c" kindref="member">entityData</ref>(index,<sp/>entity_size);</highlight><highlight class="comment">//returns<sp/>the<sp/>ptr<sp/>to<sp/>the<sp/>list<sp/>of<sp/>data<sp/>of<sp/>the<sp/>second<sp/>entity</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal"><sp/>=<sp/>22;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">*<sp/>data_by_id<sp/>=<sp/>my_field.<ref refid="classansys_1_1dpf_1_1Field_1a50ed01d59770f646c41777d496e0ff9c" kindref="member">entityDataById</ref>(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/>entity_size);</highlight><highlight class="comment">//returns<sp/>the<sp/>ptr<sp/>to<sp/>the<sp/>list<sp/>of<sp/>data<sp/>of<sp/>the<sp/>second<sp/>entity</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//the<sp/>cursor<sp/>represents<sp/>a<sp/>complete<sp/>entity<sp/>data<sp/>(id,<sp/>size,<sp/>num<sp/>elementary<sp/>data)</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1FieldCursor" kindref="compound">ansys::dpf::FieldCursor</ref><sp/>cursor;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_field.<ref refid="classansys_1_1dpf_1_1Field_1a96f5eeb13fb81117d3a096e5da245eab" kindref="member">fillCursor</ref>(1,<sp/>cursor);</highlight><highlight class="comment">//fills<sp/>the<sp/>cursor<sp/>on<sp/>the<sp/>second<sp/>entity</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal"><sp/>=<sp/>cursor.<ref refid="classansys_1_1dpf_1_1FieldCursor_1a4a87616f5f17ac420f0499170efcf454" kindref="member">id</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>entity_size<sp/>=<sp/>cursor.<ref refid="classansys_1_1dpf_1_1FieldCursor_1a088f17f2b7eec6cd4470ece35f0dc01a" kindref="member">size</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_elem_data<sp/>=<sp/>cursor.<ref refid="classansys_1_1dpf_1_1FieldCursor_1a546e38c5c0b76a50350946e11718a9d3" kindref="member">n_elementary_data</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>data_by_index<sp/>=<sp/>cursor.<ref refid="classansys_1_1dpf_1_1FieldCursor_1a815f0d760f113116cb5ed55b9ec9f584" kindref="member">data</ref>();</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(Field,<sp/>getsetHeaderAsDataTree)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>dt<sp/>=<sp/><ref refid="classansys_1_1dpf_1_1DataTree" kindref="compound">ansys::dpf::DataTree</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>dt.makeIntAttribute(std::string(</highlight><highlight class="stringliteral">&quot;one&quot;</highlight><highlight class="normal">),<sp/>1);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>dt.makeDoubleAttribute(std::string(</highlight><highlight class="stringliteral">&quot;ten&quot;</highlight><highlight class="normal">),<sp/>10.);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>dt.makeStringAttribute(std::string(</highlight><highlight class="stringliteral">&quot;red&quot;</highlight><highlight class="normal">),<sp/>std::string(</highlight><highlight class="stringliteral">&quot;apple&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>f(2,<sp/>{1},<sp/><ref refid="structansys_1_1dpf_1_1locations_1aa4e1967b0838d8597200c606c8564d29" kindref="member">ansys::dpf::locations::nodal</ref>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>f.<ref refid="classansys_1_1dpf_1_1Field_1a4bb1c90dba9d0d32c370aa9d4b74fe84" kindref="member">setHeaderAsDataTree</ref>(dt);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>dt2<sp/>=<sp/>f.getHeaderAsDataTree();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_EQ(dt2.getIntAttribute(</highlight><highlight class="stringliteral">&quot;one&quot;</highlight><highlight class="normal">),<sp/><sp/>dt.getIntAttribute(</highlight><highlight class="stringliteral">&quot;one&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_EQ(dt2.getDoubleAttribute(</highlight><highlight class="stringliteral">&quot;ten&quot;</highlight><highlight class="normal">),<sp/>dt.getDoubleAttribute(</highlight><highlight class="stringliteral">&quot;ten&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_EQ(dt2.getStringAttribute(</highlight><highlight class="stringliteral">&quot;red&quot;</highlight><highlight class="normal">),<sp/>dt.getStringAttribute(</highlight><highlight class="stringliteral">&quot;red&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(PropertyField,<sp/>getsetHeaderAsDataTree)<sp/></highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>dt<sp/>=<sp/><ref refid="classansys_1_1dpf_1_1DataTree" kindref="compound">ansys::dpf::DataTree</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>dt.makeIntAttribute(std::string(</highlight><highlight class="stringliteral">&quot;two&quot;</highlight><highlight class="normal">),<sp/>2);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>dt.makeDoubleAttribute(std::string(</highlight><highlight class="stringliteral">&quot;twenty&quot;</highlight><highlight class="normal">),<sp/>20.);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>dt.makeStringAttribute(std::string(</highlight><highlight class="stringliteral">&quot;green&quot;</highlight><highlight class="normal">),<sp/>std::string(</highlight><highlight class="stringliteral">&quot;apple&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1PropertyField" kindref="compound">ansys::dpf::PropertyField</ref><sp/>f;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>f.<ref refid="classansys_1_1dpf_1_1PropertyField_1a9c5f2a9ad893a89b067fc93c72170d56" kindref="member">setHeaderAsDataTree</ref>(dt);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>dt2<sp/>=<sp/>f.<ref refid="classansys_1_1dpf_1_1PropertyField_1aa9dc8cbf0e0bb1fd4efb704737ad2065" kindref="member">getHeaderAsDataTree</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_EQ(dt2.getIntAttribute(</highlight><highlight class="stringliteral">&quot;two&quot;</highlight><highlight class="normal">),<sp/>dt.getIntAttribute(</highlight><highlight class="stringliteral">&quot;two&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_EQ(dt2.getDoubleAttribute(</highlight><highlight class="stringliteral">&quot;twenty&quot;</highlight><highlight class="normal">),<sp/>dt.getDoubleAttribute(</highlight><highlight class="stringliteral">&quot;twenty&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_EQ(dt2.getStringAttribute(</highlight><highlight class="stringliteral">&quot;green&quot;</highlight><highlight class="normal">),<sp/>dt.getStringAttribute(</highlight><highlight class="stringliteral">&quot;green&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(CustomTypeField,<sp/>getsetHeaderAsDataTree)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>dt<sp/>=<sp/><ref refid="classansys_1_1dpf_1_1DataTree" kindref="compound">ansys::dpf::DataTree</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>dt.makeIntAttribute(std::string(</highlight><highlight class="stringliteral">&quot;three&quot;</highlight><highlight class="normal">),<sp/>3);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>dt.makeDoubleAttribute(std::string(</highlight><highlight class="stringliteral">&quot;thirty&quot;</highlight><highlight class="normal">),<sp/>30.);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>dt.makeStringAttribute(std::string(</highlight><highlight class="stringliteral">&quot;pink&quot;</highlight><highlight class="normal">),<sp/>std::string(</highlight><highlight class="stringliteral">&quot;apple&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1CustomTypeField" kindref="compound">ansys::dpf::CustomTypeField</ref><sp/>f(ansys::dpf::UseType&lt;unsigned<sp/>int&gt;());</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>f.<ref refid="classansys_1_1dpf_1_1PropertyField_1a9c5f2a9ad893a89b067fc93c72170d56" kindref="member">setHeaderAsDataTree</ref>(dt);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>dt2<sp/>=<sp/>f.<ref refid="classansys_1_1dpf_1_1PropertyField_1aa9dc8cbf0e0bb1fd4efb704737ad2065" kindref="member">getHeaderAsDataTree</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_EQ(dt2.getIntAttribute(</highlight><highlight class="stringliteral">&quot;three&quot;</highlight><highlight class="normal">),<sp/>dt.getIntAttribute(</highlight><highlight class="stringliteral">&quot;three&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_EQ(dt2.getDoubleAttribute(</highlight><highlight class="stringliteral">&quot;thirty&quot;</highlight><highlight class="normal">),<sp/>dt.getDoubleAttribute(</highlight><highlight class="stringliteral">&quot;thirty&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>EXPECT_EQ(dt2.getStringAttribute(</highlight><highlight class="stringliteral">&quot;pink&quot;</highlight><highlight class="normal">),<sp/>dt.getStringAttribute(</highlight><highlight class="stringliteral">&quot;pink&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(FieldsContainer,<sp/>Create)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>Fields<sp/>Container<sp/>is<sp/>a<sp/>vector<sp/>of<sp/>Fields<sp/>and<sp/>all<sp/>the<sp/>Fields<sp/>are<sp/>ordered<sp/>with<sp/>labels<sp/>and<sp/>IDs.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Most<sp/>commonly,<sp/>the<sp/>Fields<sp/>Container<sp/>is<sp/>scoped<sp/>on<sp/>the<sp/>&quot;time&quot;<sp/>label<sp/>and<sp/>the<sp/>IDs<sp/>are<sp/>the<sp/>time<sp/>or<sp/>frequency<sp/>sets.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>More<sp/>generically,<sp/>the<sp/>Fields<sp/>Container<sp/>allows<sp/>you<sp/>to<sp/>split<sp/>results<sp/>for<sp/>different<sp/>criteria.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Create<sp/>a<sp/>generic<sp/>fields<sp/>container<sp/>from<sp/>scratch.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//Using<sp/>a<sp/>generic<sp/>fields<sp/>container<sp/>allows<sp/>you<sp/>to<sp/>define<sp/>your<sp/>own<sp/>space,<sp/>splitting<sp/>the<sp/>fields.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//Labels<sp/>define<sp/>this<sp/>space.<sp/>For<sp/>example,<sp/>the<sp/>labels<sp/>can<sp/>be<sp/>&quot;time&quot;,<sp/>&quot;eltype&quot;<sp/>to<sp/>define<sp/>fields<sp/>over<sp/>time<sp/>with<sp/>one<sp/>field<sp/>by<sp/>element<sp/>type.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//Each<sp/>field<sp/>added<sp/>must<sp/>be<sp/>defined<sp/>on<sp/>that<sp/>space:</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//field1<sp/>:<sp/>&quot;time&quot;<sp/>:<sp/>1,<sp/>&quot;eltype&quot;<sp/>:<sp/>8</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//field2<sp/>:<sp/>&quot;time&quot;<sp/>:<sp/>1,<sp/>&quot;eltype&quot;<sp/>:<sp/>10</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//field3<sp/>:<sp/>&quot;time&quot;<sp/>:<sp/>2,<sp/>&quot;eltype&quot;<sp/>:<sp/>8</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//field4<sp/>:<sp/>&quot;time&quot;<sp/>:<sp/>2,<sp/>&quot;eltype&quot;<sp/>:<sp/>10</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>field_1;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>field_2;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>field_3;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>field_4;</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1FieldsContainer" kindref="compound">ansys::dpf::FieldsContainer</ref><sp/>my_fc;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_fc.addLabels({<sp/><ref refid="structansys_1_1dpf_1_1labels_1a22ee1a5e3be8ad98c20c5ca52e247914" kindref="member">ansys::dpf::labels::time</ref>,<sp/><ref refid="structansys_1_1dpf_1_1Label" kindref="compound">ansys::dpf::Label</ref>(</highlight><highlight class="stringliteral">&quot;eltype&quot;</highlight><highlight class="normal">)<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1LabelSpace" kindref="compound">ansys::dpf::LabelSpace</ref><sp/>label_space<sp/>=<sp/>{<sp/>{<sp/><ref refid="structansys_1_1dpf_1_1labels_1a22ee1a5e3be8ad98c20c5ca52e247914" kindref="member">ansys::dpf::labels::time</ref>,1<sp/>},{<sp/><ref refid="structansys_1_1dpf_1_1Label" kindref="compound">ansys::dpf::Label</ref>(</highlight><highlight class="stringliteral">&quot;eltype&quot;</highlight><highlight class="normal">),8<sp/>}<sp/>};</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_fc.<ref refid="classansys_1_1dpf_1_1FieldsContainer_1a72def09614e6d238cbb144229f1f1f5e" kindref="member">add</ref>(label_space,<sp/>field_1);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_fc.<ref refid="classansys_1_1dpf_1_1FieldsContainer_1a72def09614e6d238cbb144229f1f1f5e" kindref="member">add</ref>({<sp/>{<sp/><ref refid="structansys_1_1dpf_1_1labels_1a22ee1a5e3be8ad98c20c5ca52e247914" kindref="member">ansys::dpf::labels::time</ref>,1<sp/>},{<sp/><ref refid="structansys_1_1dpf_1_1Label" kindref="compound">ansys::dpf::Label</ref>(</highlight><highlight class="stringliteral">&quot;eltype&quot;</highlight><highlight class="normal">),10<sp/>}<sp/>},<sp/>field_2);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_fc.<ref refid="classansys_1_1dpf_1_1FieldsContainer_1a72def09614e6d238cbb144229f1f1f5e" kindref="member">add</ref>({<sp/>{<sp/><ref refid="structansys_1_1dpf_1_1labels_1a22ee1a5e3be8ad98c20c5ca52e247914" kindref="member">ansys::dpf::labels::time</ref>,2<sp/>},{<sp/><ref refid="structansys_1_1dpf_1_1Label" kindref="compound">ansys::dpf::Label</ref>(</highlight><highlight class="stringliteral">&quot;eltype&quot;</highlight><highlight class="normal">),8<sp/>}<sp/>},<sp/>field_3);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_fc.<ref refid="classansys_1_1dpf_1_1FieldsContainer_1a72def09614e6d238cbb144229f1f1f5e" kindref="member">add</ref>({<sp/>{<sp/><ref refid="structansys_1_1dpf_1_1labels_1a22ee1a5e3be8ad98c20c5ca52e247914" kindref="member">ansys::dpf::labels::time</ref>,2<sp/>},{<sp/><ref refid="structansys_1_1dpf_1_1Label" kindref="compound">ansys::dpf::Label</ref>(</highlight><highlight class="stringliteral">&quot;eltype&quot;</highlight><highlight class="normal">),10<sp/>}<sp/>},<sp/>field_4);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//to<sp/>create<sp/>a<sp/>fields<sp/>container<sp/>for<sp/>complex<sp/>results,<sp/>use<sp/>the<sp/>ansys::dpf::labels::complex<sp/>label</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//with<sp/>value<sp/>1<sp/>for<sp/>imaginary<sp/>fields<sp/>and<sp/>0<sp/>for<sp/>real<sp/>fields:</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1FieldsContainer" kindref="compound">ansys::dpf::FieldsContainer</ref><sp/>my_complex_fc;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_complex_fc.addLabels({<sp/><ref refid="structansys_1_1dpf_1_1labels_1a22ee1a5e3be8ad98c20c5ca52e247914" kindref="member">ansys::dpf::labels::time</ref>,<sp/><ref refid="structansys_1_1dpf_1_1labels_1ac63ee601c3a70f700d4a8efb091a565f" kindref="member">ansys::dpf::labels::complex</ref><sp/>});</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//real<sp/>part<sp/>for<sp/>time<sp/>set<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_complex_fc.<ref refid="classansys_1_1dpf_1_1FieldsContainer_1a72def09614e6d238cbb144229f1f1f5e" kindref="member">add</ref>({<sp/>{<sp/><ref refid="structansys_1_1dpf_1_1labels_1a22ee1a5e3be8ad98c20c5ca52e247914" kindref="member">ansys::dpf::labels::time</ref>,1<sp/>},{<sp/><ref refid="structansys_1_1dpf_1_1labels_1ac63ee601c3a70f700d4a8efb091a565f" kindref="member">ansys::dpf::labels::complex</ref>,<sp/>0<sp/>}<sp/>},<sp/>field_1);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//imaginary<sp/>part<sp/>for<sp/>time<sp/>set<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_complex_fc.<ref refid="classansys_1_1dpf_1_1FieldsContainer_1a72def09614e6d238cbb144229f1f1f5e" kindref="member">add</ref>({<sp/>{<sp/><ref refid="structansys_1_1dpf_1_1labels_1a22ee1a5e3be8ad98c20c5ca52e247914" kindref="member">ansys::dpf::labels::time</ref>,1<sp/>},{<sp/><ref refid="structansys_1_1dpf_1_1labels_1ac63ee601c3a70f700d4a8efb091a565f" kindref="member">ansys::dpf::labels::complex</ref>,<sp/>1<sp/>}<sp/>},<sp/>field_2);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(FieldsContainer,<sp/>GetDataFromDataSources)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>the<sp/>result<sp/>file<sp/>path<sp/>to<sp/>the<sp/>right<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>fileName(</highlight><highlight class="stringliteral">&quot;../../../testfiles/mapdl_files/TwoSolids.rst&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1DataSources" kindref="compound">ansys::dpf::DataSources</ref><sp/>my_data_sources;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_data_sources.<ref refid="classansys_1_1dpf_1_1DataSources_1ad2a5bb6f24ca621ffaaee9e7a47cdc20" kindref="member">addResultFile</ref>(fileName);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>Data</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref><sp/>u_op(</highlight><highlight class="stringliteral">&quot;U&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>u_op.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1a5b6613f802062fde4faea4b553db7fbc" kindref="member">ansys::dpf::eDataSourcesPin</ref>,<sp/>my_data_sources);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>my_fields_container<sp/>=<sp/>u_op.getOutputFieldsContainer(0);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_fields<sp/>=<sp/>my_fields_container.size();</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>index<sp/>=<sp/>0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//returns<sp/>the<sp/>labels<sp/>and<sp/>ids<sp/>corresponding<sp/>to<sp/>the<sp/>first<sp/>Field</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1LabelSpace" kindref="compound">ansys::dpf::LabelSpace</ref><sp/>label_space<sp/>=<sp/>my_fields_container.getLabelSpace(index);<sp/></highlight><highlight class="comment">//ie.<sp/>{&apos;time&apos;,1}<sp/>for<sp/>the<sp/>first<sp/>time<sp/>set</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//return<sp/>the<sp/>real<sp/>Fields<sp/>on{<sp/>&apos;time&apos;,1<sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>my_field<sp/>=<sp/>my_fields_container.getFields({<sp/>{<sp/><ref refid="structansys_1_1dpf_1_1labels_1a22ee1a5e3be8ad98c20c5ca52e247914" kindref="member">ansys::dpf::labels::time</ref>,1<sp/>}<sp/>})[0];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_field<sp/>=<sp/>my_fields_container.getFieldsForTimeId(1)[0];</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_field<sp/>=<sp/>my_fields_container[0];<sp/></highlight><highlight class="comment">//returns<sp/>the<sp/>first<sp/>field</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(MeshedRegion,<sp/>Create)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Users<sp/>can<sp/>create<sp/>their<sp/>own<sp/>data<sp/>to<sp/>be<sp/>manipulated<sp/>with<sp/>DPF.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>Meshed<sp/>Region<sp/>can<sp/>be<sp/>created<sp/>simply<sp/>with<sp/>the<sp/>following<sp/>code.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//create<sp/>a<sp/>new<sp/>mesh<sp/>with<sp/>1<sp/>quad,<sp/>1<sp/>beam,<sp/>1<sp/>point<sp/>element<sp/>and<sp/>1<sp/>tetra</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1MeshedRegion" kindref="compound">ansys::dpf::MeshedRegion</ref><sp/>mesh;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1aa7b984923ddd90379f08bc5b9831a95e" kindref="member">prepareConstruction</ref>(11,<sp/>4);<sp/></highlight><highlight class="comment">//reserve<sp/>the<sp/>size<sp/>of<sp/>the<sp/>mesh</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1ad5df08993b7c588d9565ef1c1ea4813d" kindref="member">nodeScoping</ref>().<ref refid="classansys_1_1dpf_1_1Scoping_1aeae5e27bd752bdf0da3cc2d64fbe118a" kindref="member">size</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//return:</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//0</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a3056a0fc6d69ca8769e33de6be0cecf0" kindref="member">elementScoping</ref>().<ref refid="classansys_1_1dpf_1_1Scoping_1aeae5e27bd752bdf0da3cc2d64fbe118a" kindref="member">size</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//return:</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//0</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//quad<sp/>element<sp/>with<sp/>4<sp/>nodes</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a2b4891674d74a792b63318c305963500" kindref="member">addNode</ref>(1,<sp/>{<sp/>0.0,<sp/>0.0,<sp/>0.0<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a2b4891674d74a792b63318c305963500" kindref="member">addNode</ref>(2,<sp/>{<sp/>1.0,<sp/>0.0,<sp/>0.0<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a2b4891674d74a792b63318c305963500" kindref="member">addNode</ref>(3,<sp/>{<sp/>1.0,<sp/>1.0,<sp/>0.0<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a2b4891674d74a792b63318c305963500" kindref="member">addNode</ref>(4,<sp/>{<sp/>0.0,<sp/>1.0,<sp/>0.0<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a11b6e06dfea398609fa9fb25ad4333bb" kindref="member">addElement</ref>(<ref refid="structansys_1_1dpf_1_1elements_1a4781a62a05dd26d8f1f19cd7c4b6e524" kindref="member">ansys::dpf::elements::quad4</ref>,<sp/>1,<sp/>{<sp/>0,<sp/>1,<sp/>2,<sp/>3<sp/>});<sp/></highlight><highlight class="comment">//<sp/>connectivity<sp/>is<sp/>by<sp/>node<sp/>indexes</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//point<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a2b4891674d74a792b63318c305963500" kindref="member">addNode</ref>(5,<sp/>{<sp/>0.0,<sp/>0.0,<sp/>0.0<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a11b6e06dfea398609fa9fb25ad4333bb" kindref="member">addElement</ref>(<ref refid="structansys_1_1dpf_1_1elements_1a42c776bd25670e7ca0c2cc9fc91e2829" kindref="member">ansys::dpf::elements::point1</ref>,<sp/>2,<sp/>{<sp/>4<sp/>});</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//beam<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a2b4891674d74a792b63318c305963500" kindref="member">addNode</ref>(6,<sp/>{<sp/>0.0,<sp/>0.0,<sp/>0.0<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a2b4891674d74a792b63318c305963500" kindref="member">addNode</ref>(7,<sp/>{<sp/>1.0,<sp/>0.0,<sp/>0.0<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a11b6e06dfea398609fa9fb25ad4333bb" kindref="member">addElement</ref>(<ref refid="structansys_1_1dpf_1_1elements_1a52f6751afe46909ad6c83c0b0510491d" kindref="member">ansys::dpf::elements::line2</ref>,<sp/>3,<sp/>{<sp/>5,<sp/>6<sp/>});</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//tetra<sp/>element<sp/>with<sp/>4<sp/>nodes</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a2b4891674d74a792b63318c305963500" kindref="member">addNode</ref>(8,<sp/>{<sp/>0.0,<sp/>0.0,<sp/>0.0<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a2b4891674d74a792b63318c305963500" kindref="member">addNode</ref>(9,<sp/>{<sp/>1.0,<sp/>0.0,<sp/>0.0<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a2b4891674d74a792b63318c305963500" kindref="member">addNode</ref>(10,<sp/>{<sp/>1.0,<sp/>1.0,<sp/>0.0<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a2b4891674d74a792b63318c305963500" kindref="member">addNode</ref>(11,<sp/>{<sp/>0.0,<sp/>1.0,<sp/>1.0<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a11b6e06dfea398609fa9fb25ad4333bb" kindref="member">addElement</ref>(<ref refid="structansys_1_1dpf_1_1elements_1a05d59369acd4f4ac6819645f2413ee22" kindref="member">ansys::dpf::elements::tet4</ref>,<sp/>4,<sp/>{<sp/>7,<sp/>8,<sp/>9,<sp/>10<sp/>});</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1ad5df08993b7c588d9565ef1c1ea4813d" kindref="member">nodeScoping</ref>().<ref refid="classansys_1_1dpf_1_1Scoping_1aeae5e27bd752bdf0da3cc2d64fbe118a" kindref="member">size</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//return:</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//11</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a3056a0fc6d69ca8769e33de6be0cecf0" kindref="member">elementScoping</ref>().<ref refid="classansys_1_1dpf_1_1Scoping_1aeae5e27bd752bdf0da3cc2d64fbe118a" kindref="member">size</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//return:</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//4</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1ElementCursor" kindref="compound">ansys::dpf::ElementCursor</ref><sp/>el;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a012ff219aea7e92a889a77611de00b3a" kindref="member">fillCursor</ref>(0,<sp/>el);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>el.<ref refid="classansys_1_1dpf_1_1ElementCursor_1a54ae9b25c375c752682a7dff04603348" kindref="member">numberOfNodes</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//return:</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//4</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(MeshedRegion,<sp/>GetDataFromDataSources)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>A<sp/>model<sp/>is<sp/>usually<sp/>represented<sp/>by<sp/>a<sp/>Meshed<sp/>Region<sp/>in<sp/>DPF.<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>mesh<sp/>provider<sp/>operator<sp/>allows<sp/>to<sp/>access<sp/>an<sp/>analysis&apos;<sp/>mesh.<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>user<sp/>can<sp/>then<sp/>get<sp/>different<sp/>information<sp/>in<sp/>the<sp/>mesh<sp/>like<sp/>the<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>coordinates<sp/>of<sp/>all<sp/>the<sp/>nodes<sp/>and<sp/>the<sp/>connectivity<sp/>between<sp/>elements<sp/>and<sp/>nodes.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create<sp/>DataSources</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>the<sp/>result<sp/>file<sp/>path<sp/>to<sp/>the<sp/>right<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>fileName(</highlight><highlight class="stringliteral">&quot;../../../testfiles/mapdl_files/TwoSolids.rst&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1DataSources" kindref="compound">ansys::dpf::DataSources</ref><sp/>my_data_sources;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_data_sources.<ref refid="classansys_1_1dpf_1_1DataSources_1ad2a5bb6f24ca621ffaaee9e7a47cdc20" kindref="member">addResultFile</ref>(fileName);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>Data</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref><sp/>mesh_prov(</highlight><highlight class="stringliteral">&quot;MeshProvider&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>mesh_prov.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1a5b6613f802062fde4faea4b553db7fbc" kindref="member">ansys::dpf::eDataSourcesPin</ref>,<sp/>my_data_sources);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1MeshedRegion" kindref="compound">ansys::dpf::MeshedRegion</ref><sp/>mesh<sp/>=<sp/>mesh_prov.getOutputMeshedRegion(0);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//access<sp/>elements<sp/>Scoping</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Scoping" kindref="compound">ansys::dpf::Scoping</ref><sp/>my_elements_scoping<sp/>=<sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a3056a0fc6d69ca8769e33de6be0cecf0" kindref="member">elementScoping</ref>();</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//access<sp/>nodes<sp/>Scoping</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Scoping" kindref="compound">ansys::dpf::Scoping</ref><sp/>my_nodes_scoping<sp/>=<sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1ad5df08993b7c588d9565ef1c1ea4813d" kindref="member">nodeScoping</ref>();</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//get<sp/>connectivity(ordered<sp/>node<sp/>indices)<sp/>of<sp/>one<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1PropertyField" kindref="compound">ansys::dpf::PropertyField</ref><sp/>connectivity<sp/>=<sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a2c75723ffc634c39b081eecd31d54309" kindref="member">connectivity</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1PropFieldCursor" kindref="compound">ansys::dpf::PropFieldCursor</ref><sp/>cursor;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>connectivity.<ref refid="classansys_1_1dpf_1_1PropertyField_1a90f3baa944b4dd1a49adbcbec5a3d766" kindref="member">fillCursor</ref>(0,<sp/>cursor);<sp/></highlight><highlight class="comment">//<sp/>connectivity<sp/>of<sp/>the<sp/>first<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>connectivity.<ref refid="classansys_1_1dpf_1_1PropertyField_1a90f3baa944b4dd1a49adbcbec5a3d766" kindref="member">fillCursor</ref>(my_elements_scoping.<ref refid="classansys_1_1dpf_1_1Scoping_1ab80b20d56d63ce48c08ce6b7428e06c2" kindref="member">indexById</ref>(1),<sp/>cursor);<sp/></highlight><highlight class="comment">//<sp/>connectivity<sp/>of<sp/>the<sp/>element<sp/>of<sp/>id<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>node_indices<sp/>=<sp/>cursor.<ref refid="classansys_1_1dpf_1_1PropFieldCursor_1afb9be4ae3088090d4caf097455fe877f" kindref="member">data</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_nodes_in_elem<sp/>=<sp/>cursor.<ref refid="classansys_1_1dpf_1_1PropFieldCursor_1a269c1fad1eab6210e2f0e271bd0a1b34" kindref="member">size</ref>();</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//get<sp/>coordinates</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>coordinates<sp/>=<sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a482ae171f257bfe86c8e567f0882caa4" kindref="member">nodesCoordinates</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1FieldCursor" kindref="compound">ansys::dpf::FieldCursor</ref><sp/>fcursor;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>coordinates.<ref refid="classansys_1_1dpf_1_1Field_1a96f5eeb13fb81117d3a096e5da245eab" kindref="member">fillCursor</ref>(0,<sp/>fcursor);<sp/></highlight><highlight class="comment">//<sp/>coordinates<sp/>of<sp/>the<sp/>first<sp/>node</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>coordinates.<ref refid="classansys_1_1dpf_1_1Field_1a96f5eeb13fb81117d3a096e5da245eab" kindref="member">fillCursor</ref>(my_nodes_scoping.<ref refid="classansys_1_1dpf_1_1Scoping_1ab80b20d56d63ce48c08ce6b7428e06c2" kindref="member">indexById</ref>(1),<sp/>fcursor);<sp/></highlight><highlight class="comment">//<sp/>coordinates<sp/>of<sp/>the<sp/>node<sp/>of<sp/>id<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">*<sp/>node_coord<sp/>=<sp/>fcursor.<ref refid="classansys_1_1dpf_1_1FieldCursor_1a815f0d760f113116cb5ed55b9ec9f584" kindref="member">data</ref>();</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//get<sp/>element<sp/>types</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1PropertyField" kindref="compound">ansys::dpf::PropertyField</ref><sp/>element_types<sp/>=<sp/>mesh.<ref refid="classansys_1_1dpf_1_1MeshedRegion_1a0e89e4e209380a10140c14cd91655907" kindref="member">elementTypes</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>element_types.<ref refid="classansys_1_1dpf_1_1PropertyField_1a90f3baa944b4dd1a49adbcbec5a3d766" kindref="member">fillCursor</ref>(0,<sp/>cursor);<sp/></highlight><highlight class="comment">//<sp/>element_types<sp/>of<sp/>the<sp/>first<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>element_types.<ref refid="classansys_1_1dpf_1_1PropertyField_1a90f3baa944b4dd1a49adbcbec5a3d766" kindref="member">fillCursor</ref>(my_elements_scoping.<ref refid="classansys_1_1dpf_1_1Scoping_1ab80b20d56d63ce48c08ce6b7428e06c2" kindref="member">indexById</ref>(1),<sp/>cursor);<sp/></highlight><highlight class="comment">//<sp/>element_types<sp/>of<sp/>the<sp/>element<sp/>of<sp/>id<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>element_type<sp/>=<sp/>*cursor.<ref refid="classansys_1_1dpf_1_1PropFieldCursor_1afb9be4ae3088090d4caf097455fe877f" kindref="member">data</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structansys_1_1dpf_1_1ElementDescriptor" kindref="compound">ansys::dpf::ElementDescriptor</ref><sp/>element_des<sp/>=<sp/><ref refid="structansys_1_1dpf_1_1elements_1a30e8daf92a36604a3c176d9f7b5d1f35" kindref="member">ansys::dpf::elements::descriptor</ref>(element_type);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>name<sp/>=<sp/>element_des.<ref refid="structansys_1_1dpf_1_1ElementDescriptor_1a49e5f9c938d56155ba253b08ba8b75ff" kindref="member">name</ref>;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_nodes<sp/>=<sp/>element_des.number_of_nodes;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_corner_nodes<sp/>=<sp/>element_des.number_of_corner_nodes;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_sec_nodes<sp/>=<sp/>element_des.number_of_mid_nodes;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>issolid<sp/>=<sp/>element_des.<ref refid="structansys_1_1dpf_1_1ElementDescriptor_1a55af041295e3f9d83373e649289f1b35" kindref="member">solid</ref>;</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(TimeFreqSupport,<sp/>Create)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>time<sp/>or<sp/>frequency<sp/>space<sp/>of<sp/>an<sp/>analysis<sp/>is<sp/>described<sp/>by<sp/>the<sp/>Time<sp/>Freq<sp/>Support<sp/>entity<sp/>in<sp/>DPF.<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>It<sp/>gives<sp/>access<sp/>to<sp/>real<sp/>and<sp/>imaginary<sp/>sets.<sp/>User<sp/>can<sp/>create<sp/>a<sp/>time<sp/>freq<sp/>support<sp/>to<sp/>manage<sp/>data.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>time_freq_support<sp/>from<sp/>scratch</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1TimeFreqSupport" kindref="compound">ansys::dpf::TimeFreqSupport</ref><sp/>time_freq_support;</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>time_frequencies,<sp/>rpms<sp/>and<sp/>harmonic<sp/>indices<sp/>field</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>time_freq(3,<sp/>{<sp/>1<sp/>},<sp/><ref refid="structansys_1_1dpf_1_1locations_1a3cf1bbc2ad6d8b8f6173e83b5118031a" kindref="member">ansys::dpf::locations::time_set</ref>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>time_freq.<ref refid="classansys_1_1dpf_1_1Field_1aa16920741c1432c16e46ec6da26b3f04" kindref="member">scoping</ref>().<ref refid="classansys_1_1dpf_1_1Scoping_1a021a022f87287b786ff9b3c92deb0e69" kindref="member">setIds</ref>({<sp/>1,<sp/>2,<sp/>3<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>time_freq.scoping().setLocation(<ref refid="structansys_1_1dpf_1_1locations_1abc48364ef6b184ddf696099c9a2993cd" kindref="member">ansys::dpf::locations::time_step</ref>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>time_freq.setData({<sp/>0.1,<sp/>0.21,<sp/>0.2<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>rpms(1,<sp/>{<sp/>1<sp/>},<sp/><ref refid="structansys_1_1dpf_1_1locations_1abc48364ef6b184ddf696099c9a2993cd" kindref="member">ansys::dpf::locations::time_step</ref>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>rpms.<ref refid="classansys_1_1dpf_1_1Field_1aa16920741c1432c16e46ec6da26b3f04" kindref="member">scoping</ref>().<ref refid="classansys_1_1dpf_1_1Scoping_1a021a022f87287b786ff9b3c92deb0e69" kindref="member">setIds</ref>({<sp/>1<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>rpms.setData({<sp/>30<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>harmonic_indices(0,<sp/>{<sp/>1<sp/>},<sp/><ref refid="structansys_1_1dpf_1_1locations_1a3cf1bbc2ad6d8b8f6173e83b5118031a" kindref="member">ansys::dpf::locations::time_set</ref>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>harmonic_indices.<ref refid="classansys_1_1dpf_1_1Field_1aa16920741c1432c16e46ec6da26b3f04" kindref="member">scoping</ref>().<ref refid="classansys_1_1dpf_1_1Scoping_1a021a022f87287b786ff9b3c92deb0e69" kindref="member">setIds</ref>({<sp/>1,<sp/>2,<sp/>3<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>harmonic_indices.scoping().setLocation(<ref refid="structansys_1_1dpf_1_1locations_1abc48364ef6b184ddf696099c9a2993cd" kindref="member">ansys::dpf::locations::time_step</ref>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>harmonic_indices.setData({<sp/>1.0,<sp/>2.0,<sp/>-1.0<sp/>});</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>the<sp/>time_freq_support<sp/>fields</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>time_freq_support.<ref refid="classansys_1_1dpf_1_1TimeFreqSupport_1aa01a23bf27be8e42ce3ec1da5e0ddcbe" kindref="member">setTimeFrequencies</ref>(time_freq);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>time_freq_support.<ref refid="classansys_1_1dpf_1_1TimeFreqSupport_1a855a9819d41665a1d9177fd8f67fa3f1" kindref="member">setRpms</ref>(rpms);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>time_freq_support.<ref refid="classansys_1_1dpf_1_1TimeFreqSupport_1a233c06f8d1967b7254dcf96df613e359" kindref="member">setHarmonicIndices</ref>(harmonic_indices);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>harmonic<sp/>indices<sp/>for<sp/>a<sp/>specific<sp/>cyclic<sp/>stage<sp/>number</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>harmonic_indices_2(3,<sp/>{<sp/>1<sp/>},<sp/><ref refid="structansys_1_1dpf_1_1locations_1a3cf1bbc2ad6d8b8f6173e83b5118031a" kindref="member">ansys::dpf::locations::time_set</ref>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>harmonic_indices_2.<ref refid="classansys_1_1dpf_1_1Field_1aa16920741c1432c16e46ec6da26b3f04" kindref="member">scoping</ref>().<ref refid="classansys_1_1dpf_1_1Scoping_1a021a022f87287b786ff9b3c92deb0e69" kindref="member">setIds</ref>({<sp/>1,<sp/>2,<sp/>3<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>harmonic_indices_2.setData({<sp/>1.0,<sp/>3.0,<sp/>2.0<sp/>});</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>time_freq_support.<ref refid="classansys_1_1dpf_1_1TimeFreqSupport_1a233c06f8d1967b7254dcf96df613e359" kindref="member">setHarmonicIndices</ref>(harmonic_indices_2,<sp/>2);<sp/></highlight><highlight class="comment">//<sp/>set<sp/>indices<sp/>for<sp/>the<sp/>second<sp/>stage</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(TimeFreqSupport,<sp/>GetDataFromDataSources)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create<sp/>DataSources</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>the<sp/>result<sp/>file<sp/>path<sp/>to<sp/>the<sp/>right<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>fileName(</highlight><highlight class="stringliteral">&quot;../../../testfiles/mapdl_files/TwoSolids.rst&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1DataSources" kindref="compound">ansys::dpf::DataSources</ref><sp/>my_data_sources;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_data_sources.<ref refid="classansys_1_1dpf_1_1DataSources_1ad2a5bb6f24ca621ffaaee9e7a47cdc20" kindref="member">addResultFile</ref>(fileName);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>Data</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref><sp/>time_freq_prov(</highlight><highlight class="stringliteral">&quot;TimeFreqSupportProvider&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>time_freq_prov.connect(<ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1a5b6613f802062fde4faea4b553db7fbc" kindref="member">ansys::dpf::eDataSourcesPin</ref>,<sp/>my_data_sources);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1TimeFreqSupport" kindref="compound">ansys::dpf::TimeFreqSupport</ref><sp/>time_freq<sp/>=<sp/>time_freq_prov.getOutputTimeFreqSupport(0);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//get<sp/>number<sp/>of<sp/>time/freq<sp/>sets</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_sets<sp/>=<sp/>time_freq.<ref refid="classansys_1_1dpf_1_1TimeFreqSupport_1a87c577de73b5ba2260cf3f940ac43068" kindref="member">numberOfSets</ref>();</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//get<sp/>Field<sp/>of<sp/>real<sp/>time<sp/>freqs</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Field" kindref="compound">ansys::dpf::Field</ref><sp/>my_time_freq_field<sp/>=<sp/>time_freq.<ref refid="classansys_1_1dpf_1_1TimeFreqSupport_1aa0cf046a80d328f966892abe85308f01" kindref="member">frequencies</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Unit" kindref="compound">ansys::dpf::Unit</ref><sp/>time_freq_unit<sp/>=<sp/>my_time_freq_field.<ref refid="classansys_1_1dpf_1_1Field_1a860e65caa16f612746ad116429282fd3" kindref="member">fieldDefinition</ref>().<ref refid="classansys_1_1dpf_1_1FieldDefinition_1aaf9c5c92a6d192207f01067950907af8" kindref="member">unit</ref>();<sp/></highlight><highlight class="comment">//usually<sp/>s<sp/>or<sp/>Hz</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//get<sp/>time<sp/>or<sp/>freqs<sp/>on<sp/>the<sp/>first<sp/>load<sp/>step</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>size;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">*<sp/>freqs<sp/>=<sp/>my_time_freq_field.<ref refid="classansys_1_1dpf_1_1Field_1a50ed01d59770f646c41777d496e0ff9c" kindref="member">entityDataById</ref>(1,<sp/>size);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(Model,<sp/>Explore)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>Model<sp/>is<sp/>built<sp/>using<sp/>DataSources,<sp/>which<sp/>themselves<sp/>will<sp/>be<sp/>used<sp/>(in<sp/>a<sp/>streams<sp/>by<sp/>default)<sp/>to<sp/>explore<sp/>an<sp/>analysis.<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Printing<sp/>the<sp/>model<sp/>is<sp/>a<sp/>good<sp/>tool<sp/>to<sp/>see<sp/>the<sp/>results<sp/>that<sp/>are<sp/>available.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>the<sp/>result<sp/>file<sp/>path<sp/>to<sp/>the<sp/>right<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>my_path(</highlight><highlight class="stringliteral">&quot;../../../testfiles/mapdl_files/TwoSolids.rst&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1DataSources" kindref="compound">ansys::dpf::DataSources</ref><sp/>my_data_sources;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_data_sources.<ref refid="classansys_1_1dpf_1_1DataSources_1ad2a5bb6f24ca621ffaaee9e7a47cdc20" kindref="member">addResultFile</ref>(my_path);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//create<sp/>the<sp/>model</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Model" kindref="compound">ansys::dpf::Model</ref><sp/>my_model(my_data_sources);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//or</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Model" kindref="compound">ansys::dpf::Model</ref><sp/>my_model_from_path(my_path);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//explore</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1TimeFreqSupport" kindref="compound">ansys::dpf::TimeFreqSupport</ref><sp/>time_freq_support<sp/>=<sp/>my_model.getTimeFreqSupport();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1MeshedRegion" kindref="compound">ansys::dpf::MeshedRegion</ref><sp/>meshed_region<sp/>=<sp/>my_model.getMesh();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1ResultInfo" kindref="compound">ansys::dpf::ResultInfo</ref><sp/>result_info<sp/>=<sp/>my_model.getResultInfo();</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//instantiate<sp/>result<sp/>provider</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//those<sp/>providers<sp/>are<sp/>automatically<sp/>connected<sp/>to<sp/>the<sp/>streams</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Result" kindref="compound">ansys::dpf::Result</ref><sp/>displacement<sp/>=<sp/>my_model.CreateResultEvaluationWorkflow(</highlight><highlight class="stringliteral">&quot;U&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Result" kindref="compound">ansys::dpf::Result</ref><sp/>stress<sp/>=<sp/>my_model.CreateResultEvaluationWorkflow(</highlight><highlight class="stringliteral">&quot;S&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//choose<sp/>the<sp/>time<sp/>freq<sp/>for<sp/>the<sp/>providers</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1DpfError" kindref="compound">ansys::dpf::DpfError</ref><sp/>error;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1FieldsContainer" kindref="compound">ansys::dpf::FieldsContainer</ref><sp/>fields<sp/>=<sp/>displacement.<ref refid="classansys_1_1dpf_1_1Result_1ac8e07e03eba295dacfe13a100603d5c4" kindref="member">EvaluateAtGivenTime</ref>(0.0,<sp/>error);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">TEST(Workflow,<sp/>CreateSaveResumeAndExecute)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>elementary<sp/>workflow<sp/>allows<sp/>the<sp/>user<sp/>to<sp/>simply<sp/>read<sp/>a<sp/>displacement<sp/>vector<sp/>from<sp/>an<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>analysis<sp/>and<sp/>compute<sp/>its<sp/>norm.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>It<sp/>creates<sp/>displacement<sp/>and<sp/>norm<sp/>operators,<sp/>chains<sp/>them<sp/>together,<sp/>and<sp/>add<sp/>them<sp/>into<sp/>a<sp/>workflow.<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>workflow<sp/>is<sp/>saved,<sp/>resumed,<sp/>and<sp/>executed.<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>workflow_id<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;my_workflow&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>wf_id_int<sp/>=<sp/>-1;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref><sp/>u_op(</highlight><highlight class="stringliteral">&quot;U&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1Operator" kindref="compound">ansys::dpf::Operator</ref><sp/>norm_op(</highlight><highlight class="stringliteral">&quot;norm_fc&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>norm_op.connect(u_op);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ansys::dpf::Workflow<sp/>workflow;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workflow.add(u_op);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workflow.add(norm_op);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workflow.nameInputPin(</highlight><highlight class="stringliteral">&quot;input_data_sources&quot;</highlight><highlight class="normal">,<sp/><ref refid="namespaceansys_1_1dpf_1aa4a44a04a0aafb8fe0645f019bbd94d1a5b6613f802062fde4faea4b553db7fbc" kindref="member">ansys::dpf::eDataSourcesPin</ref>,<sp/>u_op);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workflow.nameOutputPin(norm_op,<sp/>0,<sp/></highlight><highlight class="stringliteral">&quot;output&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wf_id_int<sp/>=<sp/>workflow.record(workflow_id,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>the<sp/>result<sp/>file<sp/>path<sp/>to<sp/>the<sp/>right<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>fileName(</highlight><highlight class="stringliteral">&quot;../../../testfiles/mapdl_files/TwoSolids.rst&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1DataSources" kindref="compound">ansys::dpf::DataSources</ref><sp/>my_data_sources;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>my_data_sources.<ref refid="classansys_1_1dpf_1_1DataSources_1ad2a5bb6f24ca621ffaaee9e7a47cdc20" kindref="member">addResultFile</ref>(fileName);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>ansys::dpf::Workflow<sp/>resumed_workflow<sp/>=<sp/><ref refid="classansys_1_1dpf_1_1core_1a723856ec83974fcb2cc61549f3cb89dd" kindref="member">ansys::dpf::core::workflowById</ref>(wf_id_int);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>resumed_workflow.connect(</highlight><highlight class="stringliteral">&quot;input_data_sources&quot;</highlight><highlight class="normal">,<sp/>my_data_sources);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classansys_1_1dpf_1_1FieldsContainer" kindref="compound">ansys::dpf::FieldsContainer</ref><sp/>result<sp/>=<sp/>resumed_workflow.getOutputFieldsContainer(</highlight><highlight class="stringliteral">&quot;output&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
</programlisting> </para>
    </detaileddescription>
    <location file="dpf_api.h"/>
  </compounddef>
</doxygen>
